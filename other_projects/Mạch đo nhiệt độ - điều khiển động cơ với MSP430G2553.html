<!DOCTYPE html>
<!-- saved from url=(0078)http://thanhnt.com/blog/project-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553/ -->
<html class="js" lang="vi" prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#"><head itemscope="" itemtype="http://schema.org/WebSite"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <!--[if IE ]><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> <![endif]--><link rel="profile" href="http://gmpg.org/xfn/11"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="prefetch" href="http://thanhnt.com/blog"><link rel="prerender" href="http://thanhnt.com/blog"><meta itemprop="name" content="ThanhNT&#39;s Blog"><meta itemprop="url" content="http://thanhnt.com/blog"><link rel="pingback" href="http://thanhnt.com/blog/project-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553/"><link type="text/css" media="all" href="./Mạch đo nhiệt độ - điều khiển động cơ với MSP430G2553_files/autoptimize_102d6077ba05f9702574d621e80f5164.css" rel="stylesheet"><title>Mạch đo nhiệt độ - điều khiển động cơ với MSP430G2553</title><meta name="description" content="Mạch đo và hiển thị nhiệt độ - điều khiển động cơ với MSP430G2553. Sử dụng cảm biến nhiệt độ DS18B20, hiển thị lên LCD 16x2, động cơ Bushless."><link rel="canonical" href="http://thanhnt.com/blog/project-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553/"><link rel="publisher" href="https://plus.google.com/+ThanhntBlog/posts"><meta property="og:locale" content="en_US"><meta property="og:type" content="article"><meta property="og:title" content="Mạch đo nhiệt độ - điều khiển động cơ với MSP430G2553"><meta property="og:description" content="Mạch đo và hiển thị nhiệt độ - điều khiển động cơ với MSP430G2553. Sử dụng cảm biến nhiệt độ DS18B20, hiển thị lên LCD 16x2, động cơ Bushless."><meta property="og:url" content="http://thanhnt.com/blog/project-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553/"><meta property="og:site_name" content="ThanhNT&#39;s Blog"><meta property="article:publisher" content="https://www.facebook.com/thanhntdotcom"><meta property="article:author" content="Mr.nguyen2111"><meta property="article:tag" content="DS18B20"><meta property="article:tag" content="LCD 16x2"><meta property="article:tag" content="MSP430"><meta property="article:tag" content="PWM Control"><meta property="article:tag" content="sensor"><meta property="article:section" content="Project"><meta property="article:published_time" content="2014-03-16T01:07:56+00:00"><meta property="article:modified_time" content="2015-10-28T02:10:20+00:00"><meta property="og:updated_time" content="2015-10-28T02:10:20+00:00"><meta property="fb:app_id" content="158051250961290"><meta property="og:image" content="http://media.thanhnt.com/2014/03/pcb-msp430-ds18b20-lcd16x2.jpg"><meta property="og:image" content="http://media.thanhnt.com/2014/03/Schematic-msp430-ds18b20-lcd16x2.png"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:description" content="Mạch đo và hiển thị nhiệt độ - điều khiển động cơ với MSP430G2553. Sử dụng cảm biến nhiệt độ DS18B20, hiển thị lên LCD 16x2, động cơ Bushless."><meta name="twitter:title" content="Mạch đo nhiệt độ - điều khiển động cơ với MSP430G2553"><meta name="twitter:site" content="@MrNguyen211190"><meta name="twitter:image" content="http://media.thanhnt.com/2014/03/pcb-msp430-ds18b20-lcd16x2.jpg"><meta name="twitter:creator" content="@mrnguyen211190"><link rel="dns-prefetch" href="http://s.w.org/"><link rel="alternate" type="application/rss+xml" title="ThanhNT&#39;s Blog » Feed" href="http://thanhnt.com/blog/feed/"><link rel="alternate" type="application/rss+xml" title="ThanhNT&#39;s Blog » Comments Feed" href="http://thanhnt.com/blog/comments/feed/"><link rel="alternate" type="application/rss+xml" title="ThanhNT&#39;s Blog » [Project] Mạch đo nhiệt độ – điều khiển động cơ với MSP430G2553 Comments Feed" href="http://thanhnt.com/blog/project-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553/feed/"> <script type="text/javascript">var wpdiscuzAjaxObj = {"url":"http:\/\/thanhnt.com\/blog\/wp-admin\/admin-ajax.php","wpdiscuz_options":{"wc_hide_replies_text":"Hide Replies","wc_show_replies_text":"View Replies","wc_msg_required_fields":"Please fill out required fields","wc_invalid_field":"Some of field value is invalid","wc_error_empty_text":"please fill out this field to comment","wc_error_url_text":"url is invalid","wc_error_email_text":"email address is invalid","wc_invalid_captcha":"Invalid Captcha Code","wc_login_to_vote":"You Must Be Logged In To Vote","wc_deny_voting_from_same_ip":"You are not allowed to vote for this comment","wc_self_vote":"You cannot vote for your comment","wc_vote_only_one_time":"You've already voted for this comment","wc_voting_error":"Voting Error","wc_held_for_moderate":"Comment awaiting moderation","wc_comment_edit_not_possible":"Sorry, this comment no longer possible to edit","wc_comment_not_updated":"Sorry, the comment was not updated","wc_comment_not_edited":"You've not made any changes","wc_new_comment_button_text":"new comment","wc_new_comments_button_text":"new comments","wc_new_reply_button_text":"new reply on your comment","wc_new_replies_button_text":"new replies on your comments","wc_msg_input_min_length":"Input is too short","wc_msg_input_max_length":"Input is too long","is_user_logged_in":false,"commentListLoadType":"0","commentListUpdateType":"0","commentListUpdateTimer":"30","liveUpdateGuests":"1","wc_comment_bg_color":"#FEFEFE","wc_reply_bg_color":"#F8F8F8","wordpress_comment_order":"asc","commentsVoteOrder":false,"wordpressThreadCommentsDepth":"5","wordpressIsPaginate":"0","commentTextMaxLength":null,"storeCommenterData":100000,"isCaptchaInSession":true,"isGoodbyeCaptchaActive":false,"facebookAppID":"","cookiehash":"7e91230f7a60b22222b654bc781ba913","isLoadOnlyParentComments":0,"version":"5.0.4","wc_post_id":207,"loadLastCommentId":0,"lastVisitKey":"wpdiscuz_last_visit","lastVisitExpires":1524068282,"lastVisitCookie":{"1":{"207":1521476282}},"wc_captcha_show_for_guest":"1","wc_captcha_show_for_members":"0","is_email_field_required":"1"}};</script> <link rel="https://api.w.org/" href="http://thanhnt.com/blog/wp-json/"><link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://thanhnt.com/blog/xmlrpc.php?rsd"><meta name="generator" content="WordPress 4.9.4"><link rel="shortlink" href="http://thanhnt.com/blog/?p=207"><link rel="alternate" type="application/json+oembed" href="http://thanhnt.com/blog/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fthanhnt.com%2Fblog%2Fproject-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553%2F"><link rel="alternate" type="text/xml+oembed" href="http://thanhnt.com/blog/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fthanhnt.com%2Fblog%2Fproject-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553%2F&amp;format=xml"><link rel="amphtml" href="http://thanhnt.com/blog/project-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553/amp/"><script type="text/javascript" src="./Mạch đo nhiệt độ - điều khiển động cơ với MSP430G2553_files/autoptimize_68e35c4ce54c7d51053fc13f7c58aea1.js.download"></script><script src="./Mạch đo nhiệt độ - điều khiển động cơ với MSP430G2553_files/wp-emoji-release.min.js.download" type="text/javascript" defer=""></script></head><body id="blog" class="post-template-default single single-post postid-207 single-format-standard main wpdiscuz_5.0.4  pace-running pace-done" itemscope="" itemtype="http://schema.org/WebPage"><div class="pace  pace-inactive"><div class="pace-progress" data-progress-text="100%" data-progress="99" style="width: 100%;">
  <div class="pace-progress-inner"></div>
</div>
<div class="pace-activity"></div></div><a id="move-to-top" class="animate  filling" href="http://thanhnt.com/blog/project-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553/#blog"><i class="fa fa-angle-double-up"></i></a><div class="main-container"><header id="site-header" class="main-header logo_in_nav_header" role="banner" itemscope="" itemtype="http://schema.org/WPHeader"><div id="primary-nav"><div class="container"><div id="primary-navigation" class="primary-navigation" role="navigation" itemscope="" itemtype="http://schema.org/SiteNavigationElement"><nav class="navigation clearfix"><ul id="menu-menu-primary" class="menu clearfix toggle-menu"><li id="menu-item-82" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-82"><a title="Blog" href="http://thanhnt.com/blog" data-wpel-link="internal">BLOG</a></li><li id="menu-item-83" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-83"><a title="Something about me" href="http://thanhnt.com/blog/gioi-thieu" data-wpel-link="internal">ABOUT ME</a></li></ul><div class="header-social-icons"> <a href="https://www.facebook.com/thanhntdotcom" class="header-facebook" target="_blank" data-wpel-link="external" rel="nofollow external noopener noreferrer"><span class="fa fa-facebook"></span></a> <a href="https://twitter.com/MrNguyen211190" class="header-twitter" target="_blank" data-wpel-link="external" rel="nofollow external noopener noreferrer"><span class="fa fa-twitter"></span></a> <a href="https://plus.google.com/+ThanhntBlog" class="header-google-plus" target="_blank" data-wpel-link="external" rel="nofollow external noopener noreferrer"><span class="fa fa-google-plus"></span></a></div></nav></div></div></div><div id="header"><div class="container"><div class="logo-wrap"><h2 id="logo" class="text-logo" itemprop="headline"> <a href="http://thanhnt.com/blog" data-wpel-link="internal">ThanhNT's Blog</a></h2></div><div id="secondary-navigation" class="secondary-navigation" role="navigation" itemscope="" itemtype="http://schema.org/SiteNavigationElement"> <a href="http://thanhnt.com/blog/project-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553/#" id="pull" class="toggle-mobile-menu" data-wpel-link="internal">Menu</a><nav class="navigation clearfix mobile-menu-wrapper"><ul id="menu-menu-second" class="menu clearfix toggle-menu"><li id="menu-item-44" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-44 toggle-menu-item-parent"><a title="Máy tính" href="http://thanhnt.com/blog/category/may-tinh/" data-wpel-link="internal">MÁY TÍNH</a><ul class="sub-menu toggle-submenu" style="display: none;"><li id="menu-item-45" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-45"><a href="http://thanhnt.com/blog/category/may-tinh/operating-system/" data-wpel-link="internal">Hệ Thống</a></li><li id="menu-item-46" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-46"><a href="http://thanhnt.com/blog/category/may-tinh/programing/" data-wpel-link="internal">Lập Trình</a></li><li id="menu-item-47" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-47"><a href="http://thanhnt.com/blog/category/may-tinh/network/" data-wpel-link="internal">Mạng</a></li><li id="menu-item-141" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-141"><a href="http://thanhnt.com/blog/category/may-tinh/web/" data-wpel-link="internal">Web</a></li><li id="menu-item-1108" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1108"><a href="http://thanhnt.com/blog/category/may-tinh/system-security/" data-wpel-link="internal">Bảo mật</a></li><li id="menu-item-247" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-247"><a href="http://thanhnt.com/blog/category/may-tinh/tip-trick/" data-wpel-link="internal">TIP – Trick</a></li></ul><span class="toggle-caret"><i class="fa fa-plus"></i></span></li><li id="menu-item-52" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-52 toggle-menu-item-parent"><a title="Điện tử" href="http://thanhnt.com/blog/category/electronic/" data-wpel-link="internal">ĐIỆN TỬ</a><ul class="sub-menu toggle-submenu" style="display: none;"><li id="menu-item-215" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-215"><a href="http://thanhnt.com/blog/category/electronic/electronic-theory/" data-wpel-link="internal">Cơ bản</a></li><li id="menu-item-53" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-53"><a href="http://thanhnt.com/blog/category/electronic/electronic-design/" data-wpel-link="internal">Thiết kế mạch</a></li><li id="menu-item-1107" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1107"><a href="http://thanhnt.com/blog/category/electronic/electronic-embedded-system/" data-wpel-link="internal">Hệ thống nhúng</a></li></ul><span class="toggle-caret"><i class="fa fa-plus"></i></span></li><li id="menu-item-48" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-48 toggle-menu-item-parent"><a title="Trò chuyện linh tinh" href="http://thanhnt.com/blog/category/trivial/" data-wpel-link="internal">TẢN MẠN</a><ul class="sub-menu toggle-submenu" style="display: none;"><li id="menu-item-49" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-49"><a href="http://thanhnt.com/blog/category/trivial/work/" data-wpel-link="internal">Công Việc</a></li><li id="menu-item-50" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-50"><a href="http://thanhnt.com/blog/category/trivial/life/" data-wpel-link="internal">Cuộc Sống</a></li><li id="menu-item-51" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-51"><a href="http://thanhnt.com/blog/category/trivial/uncategorized/" data-wpel-link="internal">Chém gió</a></li></ul><span class="toggle-caret"><i class="fa fa-plus"></i></span></li><li id="menu-item-43" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-43"><a title="Some project" href="http://thanhnt.com/blog/category/project/" data-wpel-link="internal">PROJECT</a></li></ul><ul id="menu-menu-primary" class="menu clearfix toggle-menu" style="display: none;"><li id="menu-item-82" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-82"><a title="Blog" href="http://thanhnt.com/blog" data-wpel-link="internal">BLOG</a></li><li id="menu-item-83" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-83"><a title="Something about me" href="http://thanhnt.com/blog/gioi-thieu" data-wpel-link="internal">ABOUT ME</a></li></ul><div class="header-social-icons" style="display: none;"> <a href="https://www.facebook.com/thanhntdotcom" class="header-facebook" target="_blank" data-wpel-link="external" rel="nofollow external noopener noreferrer"><span class="fa fa-facebook"></span></a> <a href="https://twitter.com/MrNguyen211190" class="header-twitter" target="_blank" data-wpel-link="external" rel="nofollow external noopener noreferrer"><span class="fa fa-twitter"></span></a> <a href="https://plus.google.com/+ThanhntBlog" class="header-google-plus" target="_blank" data-wpel-link="external" rel="nofollow external noopener noreferrer"><span class="fa fa-google-plus"></span></a></div></nav><div id="mobile-menu-overlay"></div></div></div></div></header><div id="page" class="single"><article class="article"><div id="content_box"><div id="post-207" class="g post post-207 type-post status-publish format-standard hentry category-project tag-ds18b20 tag-lcd-16x2 tag-msp430 tag-pwm-control tag-sensor"><div class="breadcrumb" xmlns:v="http://rdf.data-vocabulary.org/#"><span typeof="v:Breadcrumb"><a rel="nofollow" property="v:title" href="http://thanhnt.com/blog" data-wpel-link="internal"><i class="fa fa-home"></i>&nbsp;Home</a></span>&nbsp;»&nbsp;<span typeof="v:Breadcrumb"><a href="http://thanhnt.com/blog/category/project/" rel="v:url" property="v:title" data-wpel-link="internal">Project</a></span>&nbsp;»&nbsp;<span><span>[Project] Mạch đo nhiệt độ – điều khiển động cơ với MSP430G2553</span></span></div><div class="single_post"><header><h1 class="title single-title entry-title">[Project] Mạch đo nhiệt độ – điều khiển động cơ với MSP430G2553</h1><div class="post-info"> <span class="theauthor"><i class="fa fa-user"></i> <span><a href="http://thanhnt.com/blog/author/trungthanh/" title="Posts by Trung Thành" rel="author" data-wpel-link="internal">Trung Thành</a></span></span> <span class="thetime date updated"><i class="fa fa-calendar"></i> <span>March 16, 2014</span></span> <span class="thecategory"><i class="fa fa-tags"></i> <a href="http://thanhnt.com/blog/category/project/" title="View all posts in Project" data-wpel-link="internal">Project</a></span> <span class="thecomment"><i class="fa fa-comments"></i> <a href="http://thanhnt.com/blog/project-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553/#comments" itemprop="interactionCount" data-wpel-link="internal">19 Comments</a></span></div></header><div class="post-single-content box mark-links entry-content"><div class="thecontent"><p><img src="./Mạch đo nhiệt độ - điều khiển động cơ với MSP430G2553_files/pcb-msp430-ds18b20-lcd16x2.jpg" class="aligncenter" alt="MSP430 Measure Temperature DS18B2 LCD 16x2" width="500" height="293" data-lazy-loaded="true" style="display: block;"><noscript>&lt;img class="aligncenter" src="http://media.thanhnt.com/2014/03/pcb-msp430-ds18b20-lcd16x2.jpg" alt="MSP430 Measure Temperature DS18B2 LCD 16x2" width="500" height="293" /&gt;</noscript></p><p style="text-align: justify;">Trễ hẹn đã lâu, tôi chia sẻ với các bạn toàn bộ một mạch mà tôi làm cách đây 1 năm, đó là mạch đo – hiển thị nhiệt độ và điều khiển tốc độ động cơ sử dụng MCU MSP430G2553.</p><p style="text-align: justify;">Trong mạch này, tôi sử dụng những thành phần chính sau:</p><p style="text-align: justify;"><i class="fa fa-check"><span style="color: transparent; display: none;">icon-check</span></i>&nbsp;MCU: Microcontroller MSP430G2553</p><p style="text-align: justify;"><i class="fa fa-check"><span style="color: transparent; display: none;">icon-check</span></i> Sensor: DS18B20</p><p style="text-align: justify;"><i class="fa fa-check"><span style="color: transparent; display: none;">icon-check</span></i> Display device: LCD 16×2</p><p style="text-align: justify;"><i class="fa fa-check"><span style="color: transparent; display: none;">icon-check</span></i> Motor: Bushless 12V DC</p><p style="text-align: justify;"><strong>Nói sơ qua về cách hoạt động của mạch:</strong></p><p style="text-align: justify;">Ở đây tôi dùng MCU MSP430 để xử lý tín hiệu, lấy giá trị nhiệt độ đo được từ cảm biến DS18B20, hiển thị trực tiếp lên màn hình LCD 16×2, sau đó so sánh với các mốc định sẵn trong bộ nhớ để điều khiển động cơ. Mạch có hỗ trợ nút chuyển đổi chức năng, tăng, giảm và reset để có thể điều chỉnh trực tiếp giá trị của các thông số so sánh.</p><p style="text-align: justify;">Cụ thể mạch này hoạt động dựa trên các thông số được cài sẵn:</p><p style="text-align: justify;"><i class="fa fa-check"><span style="color: transparent; display: none;">icon-check</span></i>&nbsp;Mốc A(oC) là mốc để động cơ chạy ở công suất AA%</p><p style="text-align: justify;"><i class="fa fa-check"><span style="color: transparent; display: none;">icon-check</span></i> Mốc B(oC) là mốc để động cơ chạy ở công suất BB%</p><p style="text-align: justify;"><i class="fa fa-check"><span style="color: transparent; display: none;">icon-check</span></i>&nbsp;Mốc C(oC) là mốc nhiệt độ nguy hiểm (ngắt nguồn vào động cơ) và chờ đến khi nhiệt độ trở về dưới mốc A(oC) thì kích hoạt lại động cơ.</p><p style="text-align: justify;">Vậy là có 5 thông số cài đặt tương ứng với 5 mode của nút chức năng.</p><p style="text-align: justify;"><strong>Dưới đây là mạch nguyên lý:</strong></p><p><img src="./Mạch đo nhiệt độ - điều khiển động cơ với MSP430G2553_files/Schematic-msp430-ds18b20-lcd16x2.png" class="aligncenter" alt="Schematic" width="1201" height="751" data-lazy-loaded="true" style="display: block;"><noscript>&lt;img class="aligncenter" src="http://media.thanhnt.com/2014/03/Schematic-msp430-ds18b20-lcd16x2.png" alt="Schematic" width="1201" height="751" /&gt;</noscript></p><p style="text-align: justify;">Code được viết trên IAR:</p><p style="text-align: justify;"><strong>main.c</strong></p><div id="crayon-5aaf804963fe1870036718" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;"><div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">/**********************************************
* Project: Mach cam bien nhiet do, dieu khien dong
*     co, hien thi nhiet do len LCD 16x2.
*     Support: chon dai thong so he thong bang tay
* Khai bao PORT Su dung:
* __PWM__
*   1 channel
*   PORT: P1.6
* __LCD-DISPLAY__
*   4 wire DATA, 2 wire CONTROLLER
*   PORT: P1.0(D7), P1.1(D6), P1.2(D5), P1.3(D4), P1.4(EN), P1.5(RS)
* __Sensor-DS18B20__
*   1 wire DATA
*   PORT: P2.3
* __BUTTON__
*   3 button
*   PORT: P2.0 (Option), P2.1(INCREASE), P2.2(DECREASE)
* __LED-Indicator__
*   2 PORT: P2.4(LV1), P2.5(LV2)
************************************************/
#include "msp430g2553.h"
#include "stdio.h"
#include "string.h"
#include "lcd.c"
#include "ds1820.c"

#define PWM_OUT BIT6 //P1.6 PWM
#define BUTTON_OPTION 	BIT0 //P2.0
#define BUTTON_INCREASE 	BIT1 //P2.1
#define BUTTON_DECREASE 	BIT2 //P2.2
#define BUTTON_P_DIR 	P2DIR
#define BUTTON_P_OUT 	P2OUT
#define BUTTON_P_REN 	P2REN
#define BUTTON_P_IES 	P2IES
#define BUTTON_P_IFG 	P2IFG
#define BUTTON_P_IE 	P2IE

float nhietdo=0;
int tempmin = 25, tempmax = 30, temp_dangerus = 70, motor_min = 4, motor_max = 9;
volatile int a, b, ta=0, func=0, enable_sys = 1;
char ketqua[];

//*****function special*****
void button_init()
{
  //setup for button port 
  BUTTON_P_DIR &amp;= ~(BUTTON_OPTION|BUTTON_INCREASE|BUTTON_DECREASE);
  BUTTON_P_OUT |= (BUTTON_OPTION|BUTTON_INCREASE|BUTTON_DECREASE);
  BUTTON_P_REN |= (BUTTON_OPTION|BUTTON_INCREASE|BUTTON_DECREASE);
  BUTTON_P_IES |= (BUTTON_OPTION|BUTTON_INCREASE|BUTTON_DECREASE);
  BUTTON_P_IFG &amp;= ~(BUTTON_OPTION|BUTTON_INCREASE|BUTTON_DECREASE);
  BUTTON_P_IE |= (BUTTON_OPTION|BUTTON_INCREASE|BUTTON_DECREASE);
}

void display_temp_min()
{
  lcd_gotoxy(0,0); lcd_puts("Set T LV1:      ");
  lcd_gotoxy(0,1); sprintf(ketqua," T= %5d oC    ",tempmin); lcd_puts(ketqua);
  __delay_cycles(200000);
}

void display_temp_max()
{
  lcd_gotoxy(0,0); lcd_puts("Set T LV2:      ");
  lcd_gotoxy(0,1); sprintf(ketqua," T= %5d oC    ",tempmax); lcd_puts(ketqua);
  __delay_cycles(200000);
} 

void display_temp_dangerus()
{
  lcd_gotoxy(0,0); lcd_puts("Set T Dangerus: ");
  lcd_gotoxy(0,1); sprintf(ketqua," T= %5d oC    ",temp_dangerus); lcd_puts(ketqua);
  __delay_cycles(200000);
} 

void display_motor_min()
{
  lcd_gotoxy(0,0); lcd_puts("Set Motor LV1:  ");
  lcd_gotoxy(0,1); sprintf(ketqua," P= %5d %%    ",motor_min*10); lcd_puts(ketqua);
  __delay_cycles(200000);
}

void display_motor_max()
{
  lcd_gotoxy(0,0); lcd_puts("Set Motor LV2:  ");
  lcd_gotoxy(0,1); sprintf(ketqua," P= %5d %%    ",motor_max*10); lcd_puts(ketqua);
  __delay_cycles(200000);
}
void main( void )
{
  // Stop watchdog timer to prevent time out reset
  WDTCTL = WDTPW + WDTHOLD;
  BCSCTL1=CALBC1_1MHZ;
  DCOCTL=CALDCO_1MHZ;

  //setup for lcd port
  P1DIR |= BIT0|BIT1|BIT2|BIT3|BIT4|BIT5; 
  P1SEL=0;  

  //setup for led motor port
  P2DIR |= (BIT4 + BIT5);
  P2OUT &amp;= ~(BIT4 + BIT5);

  //setup port PWM
  P1DIR|= PWM_OUT;
  P1OUT&amp;=~PWM_OUT;

  //setup for timer0 interrupt
  TA0CCTL0 = CCIE;                             // CCR0 interrupt enabled
  TA0CCR0 = 5000;                            //5ms with DCO = 1MHz
  TA0CCR1 = 0; 
  TA0CCTL1 = OUTMOD_7;
  P1SEL |= PWM_OUT;
  TA0CTL = TASSEL_2 + MC_1;                  // SMCLK, upmode

  button_init();
  lcd_init();
  __bis_SR_register(GIE); //=======Enable interrupt

  __delay_cycles(10);
  lcd_gotoxy(0,0);
  lcd_puts("  THANHNT.COM   ");
  lcd_gotoxy(0,1);
  lcd_puts("  DO NHIET DO   ");
  __delay_cycles(2000000);
  lcd_gotoxy(0,0);
  lcd_puts(" VI DIEU KHIEN  ");
  lcd_gotoxy(0,1);
  lcd_puts(" TI MSP430G2553 ");
  __delay_cycles(2000000);
  lcd_clear();
  __delay_cycles(2000);
  while(1)
  {
	  switch(func){
		case 0:
				if(nhietdo &lt;= tempmin) {
				  TA0CCR1 = 0; // 0% PWM
				  enable_sys = 1;
				  lcd_gotoxy(0,0);
				  lcd_puts("Motor:OFF       ");}
				if(nhietdo &gt; tempmin &amp;&amp; enable_sys == 1) {
				  TA0CCR1 = motor_min*500; // min PWM
				  P2OUT |= BIT4;
				  lcd_gotoxy(0,0);
				  lcd_puts("Motor:ON-Level:1");}
				if(nhietdo &gt;= tempmax &amp;&amp; enable_sys == 1) {
				  TA0CCR1 = motor_max*500; // max PWM
				  P2OUT |= BIT5;
				  lcd_gotoxy(0,0);
				  lcd_puts("Motor:ON-Level:2");}
				if(nhietdo &gt; temp_dangerus) { // temp so high, turn off motor
                  TA0CCR1 = 0;
				  enable_sys = 0;
                  P2OUT &amp;= ~(BIT4+BIT5);
                  lcd_gotoxy(0,0);
                  lcd_puts(" Turn off Motor ");}
                if(!enable_sys) {lcd_gotoxy(0,0); lcd_puts(" Turn off Motor ");}

			lcd_gotoxy(0,1);
			sprintf(ketqua," T= %5.2f oC    ",nhietdo);
			lcd_puts(ketqua);
		    P2OUT &amp;= ~(BIT4+BIT5);
			break;
		case 1:	//option tuy chinh moc nhiet do min
				display_temp_min(); break;
		case 2: //option tuy chinh moc nhiet do max
				display_temp_max(); break;
        case 3: //option tuy chinh nhiet do nguy hiem
                display_temp_dangerus(); break;
		case 4: //option tuy chinh moc dong co min
				display_motor_min(); break;
		case 5: //option tuy chinh moc dong co max
				display_motor_max(); break;
		default: break;
	  }
  }
}

//ISR timer interrupt
#pragma vector=TIMER0_A0_VECTOR
__interrupt void Timer_A0 (void)
{
  ta++;
  if(ta==200) {nhietdo = ReadTemperature();ta=0;}
}

//ISR external interrupt over button
#pragma vector=PORT2_VECTOR
__interrupt void PressButton (void)
{
  if((BUTTON_P_IFG &amp; BUTTON_OPTION)==BUTTON_OPTION) //Start option
  {
    func++;
    if(func&gt;5) func=0;
    __delay_cycles(500000); //Debouncing - chong doi phim
    BUTTON_P_IFG &amp;= ~BUTTON_OPTION;
  }
  if((BUTTON_P_IFG &amp; BUTTON_INCREASE)==BUTTON_INCREASE) //increase value
  {
    if(func==1) {tempmin++; if(tempmin&gt;=tempmax) tempmin = tempmax;}
    if(func==2) {tempmax++; if(tempmax&gt;=temp_dangerus) tempmax = temp_dangerus;}
    if(func==3) temp_dangerus++;
    if(func==4) {motor_min++; if(motor_min&gt;=motor_max) motor_min = motor_max;} // gioi han muc min ko dc vuot qua muc max
    if(func==5) {motor_max++; if(motor_max&gt;10) motor_max=10;} //gioi han ko vuot qua 100%
    __delay_cycles(500000); //Debouncing - chong doi phim
    BUTTON_P_IFG &amp;= ~BUTTON_INCREASE;
  }
  if((BUTTON_P_IFG &amp; BUTTON_DECREASE)==BUTTON_DECREASE) //decrease value
  {
    if(func==1) tempmin--;
    if(func==2) {tempmax--; if(tempmax&lt;=tempmin) tempmax = tempmin;}
    if(func==3) {temp_dangerus--; if(temp_dangerus&lt;=tempmax) temp_dangerus = tempmax;}
    if(func==4) {motor_min--; if(motor_min&lt;0) motor_min=0;} //gioi han ko dc thap hon 0%
    if(func==5) {motor_max--; if(motor_max&lt;=motor_min) motor_max = motor_min;} //gioi han muc max ko dc thap hon muc min
    __delay_cycles(500000); //Debouncing - chong doi phim
    BUTTON_P_IFG &amp;= ~BUTTON_DECREASE;
  }
  BUTTON_P_IFG &amp;= ~(BUTTON_OPTION|BUTTON_INCREASE|BUTTON_DECREASE);
}</textarea></div><div class="crayon-main" style="max-height: 500px; position: relative; z-index: 1; overflow: hidden;"><table class="crayon-table" style=""><tbody><tr class="crayon-row"><td class="crayon-nums " data-settings="show"><div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-2">2</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-4">4</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-6">6</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-8">8</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-10">10</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-12">12</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-14">14</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-16">16</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-18">18</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-20">20</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-22">22</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-24">24</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-26">26</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-28">28</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-30">30</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-32">32</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-34">34</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-36">36</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-38">38</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-40">40</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-42">42</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-44">44</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-46">46</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-48">48</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-50">50</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-52">52</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-54">54</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-56">56</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-58">58</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-59">59</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-60">60</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-61">61</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-62">62</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-63">63</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-64">64</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-65">65</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-66">66</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-67">67</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-68">68</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-69">69</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-70">70</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-71">71</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-72">72</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-73">73</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-74">74</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-75">75</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-76">76</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-77">77</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-78">78</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-79">79</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-80">80</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-81">81</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-82">82</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-83">83</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-84">84</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-85">85</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-86">86</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-87">87</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-88">88</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-89">89</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-90">90</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-91">91</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-92">92</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-93">93</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-94">94</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-95">95</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-96">96</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-97">97</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-98">98</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-99">99</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-100">100</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-101">101</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-102">102</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-103">103</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-104">104</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-105">105</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-106">106</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-107">107</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-108">108</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-109">109</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-110">110</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-111">111</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-112">112</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-113">113</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-114">114</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-115">115</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-116">116</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-117">117</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-118">118</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-119">119</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-120">120</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-121">121</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-122">122</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-123">123</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-124">124</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-125">125</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-126">126</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-127">127</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-128">128</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-129">129</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-130">130</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-131">131</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-132">132</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-133">133</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-134">134</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-135">135</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-136">136</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-137">137</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-138">138</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-139">139</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-140">140</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-141">141</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-142">142</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-143">143</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-144">144</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-145">145</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-146">146</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-147">147</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-148">148</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-149">149</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-150">150</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-151">151</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-152">152</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-153">153</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-154">154</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-155">155</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-156">156</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-157">157</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-158">158</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-159">159</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-160">160</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-161">161</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-162">162</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-163">163</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-164">164</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-165">165</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-166">166</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-167">167</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-168">168</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-169">169</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-170">170</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-171">171</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-172">172</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-173">173</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-174">174</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-175">175</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-176">176</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-177">177</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-178">178</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-179">179</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-180">180</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-181">181</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-182">182</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-183">183</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-184">184</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-185">185</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-186">186</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-187">187</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-188">188</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-189">189</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-190">190</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-191">191</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-192">192</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-193">193</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-194">194</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-195">195</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-196">196</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-197">197</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-198">198</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-199">199</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-200">200</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-201">201</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-202">202</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-203">203</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-204">204</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-205">205</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-206">206</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-207">207</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-208">208</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-209">209</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-210">210</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-211">211</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-212">212</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-213">213</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-214">214</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-215">215</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-216">216</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-217">217</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-218">218</div><div class="crayon-num" data-line="crayon-5aaf804963fe1870036718-219">219</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804963fe1870036718-220">220</div></div></td><td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5aaf804963fe1870036718-1"><span class="crayon-c">/**********************************************</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-2"><span class="crayon-c">* Project: Mach cam bien nhiet do, dieu khien dong</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-3"><span class="crayon-c">*&nbsp;&nbsp;&nbsp;&nbsp; co, hien thi nhiet do len LCD 16x2.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-4"><span class="crayon-c">*&nbsp;&nbsp;&nbsp;&nbsp; Support: chon dai thong so he thong bang tay</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-5"><span class="crayon-c">* Khai bao PORT Su dung:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-6"><span class="crayon-c">* __PWM__</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-7"><span class="crayon-c">*&nbsp;&nbsp; 1 channel</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-8"><span class="crayon-c">*&nbsp;&nbsp; PORT: P1.6</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-9"><span class="crayon-c">* __LCD-DISPLAY__</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-10"><span class="crayon-c">*&nbsp;&nbsp; 4 wire DATA, 2 wire CONTROLLER</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-11"><span class="crayon-c">*&nbsp;&nbsp; PORT: P1.0(D7), P1.1(D6), P1.2(D5), P1.3(D4), P1.4(EN), P1.5(RS)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-12"><span class="crayon-c">* __Sensor-DS18B20__</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-13"><span class="crayon-c">*&nbsp;&nbsp; 1 wire DATA</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-14"><span class="crayon-c">*&nbsp;&nbsp; PORT: P2.3</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-15"><span class="crayon-c">* __BUTTON__</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-16"><span class="crayon-c">*&nbsp;&nbsp; 3 button</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-17"><span class="crayon-c">*&nbsp;&nbsp; PORT: P2.0 (Option), P2.1(INCREASE), P2.2(DECREASE)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-18"><span class="crayon-c">* __LED-Indicator__</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-19"><span class="crayon-c">*&nbsp;&nbsp; 2 PORT: P2.4(LV1), P2.5(LV2)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-20"><span class="crayon-c">************************************************/</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-21"><span class="crayon-p">#include "msp430g2553.h"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-22"><span class="crayon-p">#include "stdio.h"</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-23"><span class="crayon-p">#include "string.h"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-24"><span class="crayon-p">#include "lcd.c"</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-25"><span class="crayon-p">#include "ds1820.c"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-26">&nbsp;</div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-27"><span class="crayon-p">#define PWM_OUT BIT6 //P1.6 PWM</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-28"><span class="crayon-p">#define BUTTON_OPTION 	BIT0 //P2.0</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-29"><span class="crayon-p">#define BUTTON_INCREASE 	BIT1 //P2.1</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-30"><span class="crayon-p">#define BUTTON_DECREASE 	BIT2 //P2.2</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-31"><span class="crayon-p">#define BUTTON_P_DIR 	P2DIR</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-32"><span class="crayon-p">#define BUTTON_P_OUT 	P2OUT</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-33"><span class="crayon-p">#define BUTTON_P_REN 	P2REN</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-34"><span class="crayon-p">#define BUTTON_P_IES 	P2IES</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-35"><span class="crayon-p">#define BUTTON_P_IFG 	P2IFG</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-36"><span class="crayon-p">#define BUTTON_P_IE 	P2IE</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-37">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-38"><span class="crayon-t">float</span><span class="crayon-h"> </span><span class="crayon-v">nhietdo</span><span class="crayon-o">=</span><span class="crayon-cn">0</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-39"><span class="crayon-t">int</span><span class="crayon-h"> </span><span class="crayon-v">tempmin</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">25</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">tempmax</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">30</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">temp_dangerus</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">70</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">motor_min</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">4</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">motor_max</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">9</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-40"><span class="crayon-m">volatile</span><span class="crayon-h"> </span><span class="crayon-t">int</span><span class="crayon-h"> </span><span class="crayon-v">a</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">b</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">ta</span><span class="crayon-o">=</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">func</span><span class="crayon-o">=</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">enable_sys</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-41"><span class="crayon-t">char</span><span class="crayon-h"> </span><span class="crayon-v">ketqua</span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-42">&nbsp;</div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-43"><span class="crayon-c">//*****function special*****</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-44"><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">button_init</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-45"><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-46"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">//setup for button port </span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-47"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">BUTTON_P_DIR</span><span class="crayon-h"> </span><span class="crayon-o">&amp;=</span><span class="crayon-h"> </span><span class="crayon-o">~</span><span class="crayon-sy">(</span><span class="crayon-v">BUTTON_OPTION</span><span class="crayon-o">|</span><span class="crayon-v">BUTTON_INCREASE</span><span class="crayon-o">|</span><span class="crayon-v">BUTTON_DECREASE</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-48"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">BUTTON_P_OUT</span><span class="crayon-h"> </span><span class="crayon-o">|=</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">BUTTON_OPTION</span><span class="crayon-o">|</span><span class="crayon-v">BUTTON_INCREASE</span><span class="crayon-o">|</span><span class="crayon-v">BUTTON_DECREASE</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-49"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">BUTTON_P_REN</span><span class="crayon-h"> </span><span class="crayon-o">|=</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">BUTTON_OPTION</span><span class="crayon-o">|</span><span class="crayon-v">BUTTON_INCREASE</span><span class="crayon-o">|</span><span class="crayon-v">BUTTON_DECREASE</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-50"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">BUTTON_P_IES</span><span class="crayon-h"> </span><span class="crayon-o">|=</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">BUTTON_OPTION</span><span class="crayon-o">|</span><span class="crayon-v">BUTTON_INCREASE</span><span class="crayon-o">|</span><span class="crayon-v">BUTTON_DECREASE</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-51"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">BUTTON_P_IFG</span><span class="crayon-h"> </span><span class="crayon-o">&amp;=</span><span class="crayon-h"> </span><span class="crayon-o">~</span><span class="crayon-sy">(</span><span class="crayon-v">BUTTON_OPTION</span><span class="crayon-o">|</span><span class="crayon-v">BUTTON_INCREASE</span><span class="crayon-o">|</span><span class="crayon-v">BUTTON_DECREASE</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-52"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">BUTTON_P_IE</span><span class="crayon-h"> </span><span class="crayon-o">|=</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">BUTTON_OPTION</span><span class="crayon-o">|</span><span class="crayon-v">BUTTON_INCREASE</span><span class="crayon-o">|</span><span class="crayon-v">BUTTON_DECREASE</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-53"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-54">&nbsp;</div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-55"><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">display_temp_min</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-56"><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-57"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">lcd_gotoxy</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-e">lcd_puts</span><span class="crayon-sy">(</span><span class="crayon-s">"Set T LV1:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-58"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">lcd_gotoxy</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-r">sprintf</span><span class="crayon-sy">(</span><span class="crayon-v">ketqua</span><span class="crayon-sy">,</span><span class="crayon-s">" T= %5d oC&nbsp;&nbsp;&nbsp;&nbsp;"</span><span class="crayon-sy">,</span><span class="crayon-v">tempmin</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-e">lcd_puts</span><span class="crayon-sy">(</span><span class="crayon-v">ketqua</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-59"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">__delay_cycles</span><span class="crayon-sy">(</span><span class="crayon-cn">200000</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-60"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-61">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-62"><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">display_temp_max</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-63"><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-64"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">lcd_gotoxy</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-e">lcd_puts</span><span class="crayon-sy">(</span><span class="crayon-s">"Set T LV2:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-65"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">lcd_gotoxy</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-r">sprintf</span><span class="crayon-sy">(</span><span class="crayon-v">ketqua</span><span class="crayon-sy">,</span><span class="crayon-s">" T= %5d oC&nbsp;&nbsp;&nbsp;&nbsp;"</span><span class="crayon-sy">,</span><span class="crayon-v">tempmax</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-e">lcd_puts</span><span class="crayon-sy">(</span><span class="crayon-v">ketqua</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-66"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">__delay_cycles</span><span class="crayon-sy">(</span><span class="crayon-cn">200000</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-67"><span class="crayon-sy">}</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-68">&nbsp;</div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-69"><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">display_temp_dangerus</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-70"><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-71"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">lcd_gotoxy</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-e">lcd_puts</span><span class="crayon-sy">(</span><span class="crayon-s">"Set T Dangerus: "</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-72"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">lcd_gotoxy</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-r">sprintf</span><span class="crayon-sy">(</span><span class="crayon-v">ketqua</span><span class="crayon-sy">,</span><span class="crayon-s">" T= %5d oC&nbsp;&nbsp;&nbsp;&nbsp;"</span><span class="crayon-sy">,</span><span class="crayon-v">temp_dangerus</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-e">lcd_puts</span><span class="crayon-sy">(</span><span class="crayon-v">ketqua</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-73"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">__delay_cycles</span><span class="crayon-sy">(</span><span class="crayon-cn">200000</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-74"><span class="crayon-sy">}</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-75">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-76"><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">display_motor_min</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-77"><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-78"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">lcd_gotoxy</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-e">lcd_puts</span><span class="crayon-sy">(</span><span class="crayon-s">"Set Motor LV1:&nbsp;&nbsp;"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-79"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">lcd_gotoxy</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-r">sprintf</span><span class="crayon-sy">(</span><span class="crayon-v">ketqua</span><span class="crayon-sy">,</span><span class="crayon-s">" P= %5d %%&nbsp;&nbsp;&nbsp;&nbsp;"</span><span class="crayon-sy">,</span><span class="crayon-v">motor_min</span><span class="crayon-o">*</span><span class="crayon-cn">10</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-e">lcd_puts</span><span class="crayon-sy">(</span><span class="crayon-v">ketqua</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-80"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">__delay_cycles</span><span class="crayon-sy">(</span><span class="crayon-cn">200000</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-81"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-82">&nbsp;</div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-83"><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">display_motor_max</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-84"><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-85"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">lcd_gotoxy</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-e">lcd_puts</span><span class="crayon-sy">(</span><span class="crayon-s">"Set Motor LV2:&nbsp;&nbsp;"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-86"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">lcd_gotoxy</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-r">sprintf</span><span class="crayon-sy">(</span><span class="crayon-v">ketqua</span><span class="crayon-sy">,</span><span class="crayon-s">" P= %5d %%&nbsp;&nbsp;&nbsp;&nbsp;"</span><span class="crayon-sy">,</span><span class="crayon-v">motor_max</span><span class="crayon-o">*</span><span class="crayon-cn">10</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-e">lcd_puts</span><span class="crayon-sy">(</span><span class="crayon-v">ketqua</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-87"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">__delay_cycles</span><span class="crayon-sy">(</span><span class="crayon-cn">200000</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-88"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-89"><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">main</span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-90"><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-91"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Stop watchdog timer to prevent time out reset</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-92"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">WDTCTL</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">WDTPW</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">WDTHOLD</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-93"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">BCSCTL1</span><span class="crayon-o">=</span><span class="crayon-v">CALBC1_1MHZ</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-94"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">DCOCTL</span><span class="crayon-o">=</span><span class="crayon-v">CALDCO_1MHZ</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-95">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-96"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">//setup for lcd port</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-97"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">P1DIR</span><span class="crayon-h"> </span><span class="crayon-o">|=</span><span class="crayon-h"> </span><span class="crayon-v">BIT0</span><span class="crayon-o">|</span><span class="crayon-v">BIT1</span><span class="crayon-o">|</span><span class="crayon-v">BIT2</span><span class="crayon-o">|</span><span class="crayon-v">BIT3</span><span class="crayon-o">|</span><span class="crayon-v">BIT4</span><span class="crayon-o">|</span><span class="crayon-v">BIT5</span><span class="crayon-sy">;</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-98"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">P1SEL</span><span class="crayon-o">=</span><span class="crayon-cn">0</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-99">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-100"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">//setup for led motor port</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-101"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">P2DIR</span><span class="crayon-h"> </span><span class="crayon-o">|=</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">BIT4</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">BIT5</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-102"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">P2OUT</span><span class="crayon-h"> </span><span class="crayon-o">&amp;=</span><span class="crayon-h"> </span><span class="crayon-o">~</span><span class="crayon-sy">(</span><span class="crayon-v">BIT4</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">BIT5</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-103">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-104"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">//setup port PWM</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-105"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">P1DIR</span><span class="crayon-o">|=</span><span class="crayon-h"> </span><span class="crayon-v">PWM_OUT</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-106"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">P1OUT</span><span class="crayon-o">&amp;=</span><span class="crayon-o">~</span><span class="crayon-v">PWM_OUT</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-107">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-108"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">//setup for timer0 interrupt</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-109"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">TA0CCTL0</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">CCIE</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// CCR0 interrupt enabled</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-110"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">TA0CCR0</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">5000</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//5ms with DCO = 1MHz</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-111"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">TA0CCR1</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">;</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-112"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">TA0CCTL1</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">OUTMOD_7</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-113"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">P1SEL</span><span class="crayon-h"> </span><span class="crayon-o">|=</span><span class="crayon-h"> </span><span class="crayon-v">PWM_OUT</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-114"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">TA0CTL</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">TASSEL_2</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">MC_1</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// SMCLK, upmode</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-115">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-116"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">button_init</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-117"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">lcd_init</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-118"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">__bis_SR_register</span><span class="crayon-sy">(</span><span class="crayon-v">GIE</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">//=======Enable interrupt</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-119">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-120"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">__delay_cycles</span><span class="crayon-sy">(</span><span class="crayon-cn">10</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-121"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">lcd_gotoxy</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-122"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">lcd_puts</span><span class="crayon-sy">(</span><span class="crayon-s">"&nbsp;&nbsp;THANHNT.COM&nbsp;&nbsp; "</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-123"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">lcd_gotoxy</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-124"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">lcd_puts</span><span class="crayon-sy">(</span><span class="crayon-s">"&nbsp;&nbsp;DO NHIET DO&nbsp;&nbsp; "</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-125"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">__delay_cycles</span><span class="crayon-sy">(</span><span class="crayon-cn">2000000</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-126"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">lcd_gotoxy</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-127"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">lcd_puts</span><span class="crayon-sy">(</span><span class="crayon-s">" VI DIEU KHIEN&nbsp;&nbsp;"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-128"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">lcd_gotoxy</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-129"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">lcd_puts</span><span class="crayon-sy">(</span><span class="crayon-s">" TI MSP430G2553 "</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-130"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">__delay_cycles</span><span class="crayon-sy">(</span><span class="crayon-cn">2000000</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-131"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">lcd_clear</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-132"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">__delay_cycles</span><span class="crayon-sy">(</span><span class="crayon-cn">2000</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-133"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">while</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-134"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-135"><span class="crayon-h"> &nbsp;&nbsp;</span><span class="crayon-st">switch</span><span class="crayon-sy">(</span><span class="crayon-v">func</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-136"><span class="crayon-h"> </span><span class="crayon-st">case</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-137"><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">nhietdo</span><span class="crayon-h"> </span><span class="crayon-o">&lt;=</span><span class="crayon-h"> </span><span class="crayon-v">tempmin</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-138"><span class="crayon-h"> &nbsp;&nbsp;</span><span class="crayon-v">TA0CCR1</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">// 0% PWM</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-139"><span class="crayon-h"> &nbsp;&nbsp;</span><span class="crayon-v">enable_sys</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-140"><span class="crayon-h"> &nbsp;&nbsp;</span><span class="crayon-e">lcd_gotoxy</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-141"><span class="crayon-h"> &nbsp;&nbsp;</span><span class="crayon-e">lcd_puts</span><span class="crayon-sy">(</span><span class="crayon-s">"Motor:OFF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-142"><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">nhietdo</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-v">tempmin</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-v">enable_sys</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-143"><span class="crayon-h"> &nbsp;&nbsp;</span><span class="crayon-v">TA0CCR1</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">motor_min</span><span class="crayon-o">*</span><span class="crayon-cn">500</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">// min PWM</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-144"><span class="crayon-h"> &nbsp;&nbsp;</span><span class="crayon-v">P2OUT</span><span class="crayon-h"> </span><span class="crayon-o">|=</span><span class="crayon-h"> </span><span class="crayon-v">BIT4</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-145"><span class="crayon-h"> &nbsp;&nbsp;</span><span class="crayon-e">lcd_gotoxy</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-146"><span class="crayon-h"> &nbsp;&nbsp;</span><span class="crayon-e">lcd_puts</span><span class="crayon-sy">(</span><span class="crayon-s">"Motor:ON-Level:1"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-147"><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">nhietdo</span><span class="crayon-h"> </span><span class="crayon-o">&gt;=</span><span class="crayon-h"> </span><span class="crayon-v">tempmax</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-v">enable_sys</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-148"><span class="crayon-h"> &nbsp;&nbsp;</span><span class="crayon-v">TA0CCR1</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">motor_max</span><span class="crayon-o">*</span><span class="crayon-cn">500</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">// max PWM</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-149"><span class="crayon-h"> &nbsp;&nbsp;</span><span class="crayon-v">P2OUT</span><span class="crayon-h"> </span><span class="crayon-o">|=</span><span class="crayon-h"> </span><span class="crayon-v">BIT5</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-150"><span class="crayon-h"> &nbsp;&nbsp;</span><span class="crayon-e">lcd_gotoxy</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-151"><span class="crayon-h"> &nbsp;&nbsp;</span><span class="crayon-e">lcd_puts</span><span class="crayon-sy">(</span><span class="crayon-s">"Motor:ON-Level:2"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-152"><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">nhietdo</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-v">temp_dangerus</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-c">// temp so high, turn off motor</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-153"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">TA0CCR1</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-154"><span class="crayon-h"> &nbsp;&nbsp;</span><span class="crayon-v">enable_sys</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-155"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">P2OUT</span><span class="crayon-h"> </span><span class="crayon-o">&amp;=</span><span class="crayon-h"> </span><span class="crayon-o">~</span><span class="crayon-sy">(</span><span class="crayon-v">BIT4</span><span class="crayon-o">+</span><span class="crayon-v">BIT5</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-156"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">lcd_gotoxy</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-157"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">lcd_puts</span><span class="crayon-sy">(</span><span class="crayon-s">" Turn off Motor "</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-158"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-o">!</span><span class="crayon-v">enable_sys</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-e">lcd_gotoxy</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-e">lcd_puts</span><span class="crayon-sy">(</span><span class="crayon-s">" Turn off Motor "</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-159">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-160"><span class="crayon-h"> </span><span class="crayon-e">lcd_gotoxy</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-161"><span class="crayon-h"> </span><span class="crayon-r">sprintf</span><span class="crayon-sy">(</span><span class="crayon-v">ketqua</span><span class="crayon-sy">,</span><span class="crayon-s">" T= %5.2f oC&nbsp;&nbsp;&nbsp;&nbsp;"</span><span class="crayon-sy">,</span><span class="crayon-v">nhietdo</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-162"><span class="crayon-h"> </span><span class="crayon-e">lcd_puts</span><span class="crayon-sy">(</span><span class="crayon-v">ketqua</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-163"><span class="crayon-h"> &nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">P2OUT</span><span class="crayon-h"> </span><span class="crayon-o">&amp;=</span><span class="crayon-h"> </span><span class="crayon-o">~</span><span class="crayon-sy">(</span><span class="crayon-v">BIT4</span><span class="crayon-o">+</span><span class="crayon-v">BIT5</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-164"><span class="crayon-h"> </span><span class="crayon-st">break</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-165"><span class="crayon-h"> </span><span class="crayon-st">case</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-c">//option tuy chinh moc nhiet do min</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-166"><span class="crayon-h"> </span><span class="crayon-e">display_temp_min</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">break</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-167"><span class="crayon-h"> </span><span class="crayon-st">case</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-c">//option tuy chinh moc nhiet do max</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-168"><span class="crayon-h"> </span><span class="crayon-e">display_temp_max</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">break</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-169"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">case</span><span class="crayon-h"> </span><span class="crayon-cn">3</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-c">//option tuy chinh nhiet do nguy hiem</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-170"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">display_temp_dangerus</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">break</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-171"><span class="crayon-h"> </span><span class="crayon-st">case</span><span class="crayon-h"> </span><span class="crayon-cn">4</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-c">//option tuy chinh moc dong co min</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-172"><span class="crayon-h"> </span><span class="crayon-e">display_motor_min</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">break</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-173"><span class="crayon-h"> </span><span class="crayon-st">case</span><span class="crayon-h"> </span><span class="crayon-cn">5</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-c">//option tuy chinh moc dong co max</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-174"><span class="crayon-h"> </span><span class="crayon-e">display_motor_max</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">break</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-175"><span class="crayon-h"> </span><span class="crayon-st">default</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-st">break</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-176"><span class="crayon-h"> &nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-177"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-178"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-179">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-180"><span class="crayon-c">//ISR timer interrupt</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-181"><span class="crayon-p">#pragma vector=TIMER0_A0_VECTOR</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-182"><span class="crayon-e">__interrupt </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">Timer_A0</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-t">void</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-183"><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-184"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">ta</span><span class="crayon-o">++</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-185"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">ta</span><span class="crayon-o">==</span><span class="crayon-cn">200</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-v">nhietdo</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">ReadTemperature</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-v">ta</span><span class="crayon-o">=</span><span class="crayon-cn">0</span><span class="crayon-sy">;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-186"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-187">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-188"><span class="crayon-c">//ISR external interrupt over button</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-189"><span class="crayon-p">#pragma vector=PORT2_VECTOR</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-190"><span class="crayon-e">__interrupt </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">PressButton</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-t">void</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-191"><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-192"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-v">BUTTON_P_IFG</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-h"> </span><span class="crayon-v">BUTTON_OPTION</span><span class="crayon-sy">)</span><span class="crayon-o">==</span><span class="crayon-v">BUTTON_OPTION</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-c">//Start option</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-193"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-194"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">func</span><span class="crayon-o">++</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-195"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">func</span><span class="crayon-o">&gt;</span><span class="crayon-cn">5</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-v">func</span><span class="crayon-o">=</span><span class="crayon-cn">0</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-196"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">__delay_cycles</span><span class="crayon-sy">(</span><span class="crayon-cn">500000</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">//Debouncing - chong doi phim</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-197"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">BUTTON_P_IFG</span><span class="crayon-h"> </span><span class="crayon-o">&amp;=</span><span class="crayon-h"> </span><span class="crayon-o">~</span><span class="crayon-v">BUTTON_OPTION</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-198"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-199"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-v">BUTTON_P_IFG</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-h"> </span><span class="crayon-v">BUTTON_INCREASE</span><span class="crayon-sy">)</span><span class="crayon-o">==</span><span class="crayon-v">BUTTON_INCREASE</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-c">//increase value</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-200"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-201"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">func</span><span class="crayon-o">==</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-v">tempmin</span><span class="crayon-o">++</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">tempmin</span><span class="crayon-o">&gt;=</span><span class="crayon-v">tempmax</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-v">tempmin</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">tempmax</span><span class="crayon-sy">;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-202"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">func</span><span class="crayon-o">==</span><span class="crayon-cn">2</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-v">tempmax</span><span class="crayon-o">++</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">tempmax</span><span class="crayon-o">&gt;=</span><span class="crayon-v">temp_dangerus</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-v">tempmax</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">temp_dangerus</span><span class="crayon-sy">;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-203"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">func</span><span class="crayon-o">==</span><span class="crayon-cn">3</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-v">temp_dangerus</span><span class="crayon-o">++</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-204"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">func</span><span class="crayon-o">==</span><span class="crayon-cn">4</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-v">motor_min</span><span class="crayon-o">++</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">motor_min</span><span class="crayon-o">&gt;=</span><span class="crayon-v">motor_max</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-v">motor_min</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">motor_max</span><span class="crayon-sy">;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-c">// gioi han muc min ko dc vuot qua muc max</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-205"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">func</span><span class="crayon-o">==</span><span class="crayon-cn">5</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-v">motor_max</span><span class="crayon-o">++</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">motor_max</span><span class="crayon-o">&gt;</span><span class="crayon-cn">10</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-v">motor_max</span><span class="crayon-o">=</span><span class="crayon-cn">10</span><span class="crayon-sy">;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-c">//gioi han ko vuot qua 100%</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-206"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">__delay_cycles</span><span class="crayon-sy">(</span><span class="crayon-cn">500000</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">//Debouncing - chong doi phim</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-207"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">BUTTON_P_IFG</span><span class="crayon-h"> </span><span class="crayon-o">&amp;=</span><span class="crayon-h"> </span><span class="crayon-o">~</span><span class="crayon-v">BUTTON_INCREASE</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-208"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-209"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-v">BUTTON_P_IFG</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-h"> </span><span class="crayon-v">BUTTON_DECREASE</span><span class="crayon-sy">)</span><span class="crayon-o">==</span><span class="crayon-v">BUTTON_DECREASE</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-c">//decrease value</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-210"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-211"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">func</span><span class="crayon-o">==</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-v">tempmin</span><span class="crayon-o">--</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-212"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">func</span><span class="crayon-o">==</span><span class="crayon-cn">2</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-v">tempmax</span><span class="crayon-o">--</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">tempmax</span><span class="crayon-o">&lt;=</span><span class="crayon-v">tempmin</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-v">tempmax</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">tempmin</span><span class="crayon-sy">;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-213"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">func</span><span class="crayon-o">==</span><span class="crayon-cn">3</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-v">temp_dangerus</span><span class="crayon-o">--</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">temp_dangerus</span><span class="crayon-o">&lt;=</span><span class="crayon-v">tempmax</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-v">temp_dangerus</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">tempmax</span><span class="crayon-sy">;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-214"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">func</span><span class="crayon-o">==</span><span class="crayon-cn">4</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-v">motor_min</span><span class="crayon-o">--</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">motor_min</span><span class="crayon-o">&lt;</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-v">motor_min</span><span class="crayon-o">=</span><span class="crayon-cn">0</span><span class="crayon-sy">;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-c">//gioi han ko dc thap hon 0%</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-215"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">func</span><span class="crayon-o">==</span><span class="crayon-cn">5</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-v">motor_max</span><span class="crayon-o">--</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">motor_max</span><span class="crayon-o">&lt;=</span><span class="crayon-v">motor_min</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-v">motor_max</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">motor_min</span><span class="crayon-sy">;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-c">//gioi han muc max ko dc thap hon muc min</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-216"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">__delay_cycles</span><span class="crayon-sy">(</span><span class="crayon-cn">500000</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">//Debouncing - chong doi phim</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-217"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">BUTTON_P_IFG</span><span class="crayon-h"> </span><span class="crayon-o">&amp;=</span><span class="crayon-h"> </span><span class="crayon-o">~</span><span class="crayon-v">BUTTON_DECREASE</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-218"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5aaf804963fe1870036718-219"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">BUTTON_P_IFG</span><span class="crayon-h"> </span><span class="crayon-o">&amp;=</span><span class="crayon-h"> </span><span class="crayon-o">~</span><span class="crayon-sy">(</span><span class="crayon-v">BUTTON_OPTION</span><span class="crayon-o">|</span><span class="crayon-v">BUTTON_INCREASE</span><span class="crayon-o">|</span><span class="crayon-v">BUTTON_DECREASE</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804963fe1870036718-220"><span class="crayon-sy">}</span></div></div></td></tr></tbody></table></div></div><p style="text-align: justify;"><a href="http://media.thanhnt.com/public_file/Source_MSP430_DS18B20_LCD_Motor_Control.zip" class="su-button su-button-style-default" style="color:#FFFFFF;background-color:#2D89EF;border-color:#246ebf;border-radius:5px;-moz-border-radius:5px;-webkit-border-radius:5px" target="_blank" data-wpel-link="external" rel="nofollow external noopener noreferrer"><span style="color:#FFFFFF;padding:6px 16px;font-size:13px;line-height:20px;border-color:#6cacf4;border-radius:5px;-moz-border-radius:5px;-webkit-border-radius:5px;text-shadow:0px 0px 0px #000000;-moz-text-shadow:0px 0px 0px #000000;-webkit-text-shadow:0px 0px 0px #000000"><i class="fa fa-download" style="font-size:13px;color:#FFFFFF"></i> Download Full Source</span></a></p><p style="text-align: justify;">&nbsp;<i class="fa fa-arrow-circle-up"><span style="color: transparent; display: none;">icon-arrow-circle-up</span></i>&nbsp;<strong>Cập nhật:</strong></p><p style="text-align: justify;"><del>Để sửa lỗi nhấn reset để mạch chạy, các bạn chỉ cần mắc thêm 1 tụ 102 (tụ gốm) vào giữa chân Reset của MSP430G2553 và GND, thay thế trở treo giữa chân Reset và VCC_3.3V thành trở 47k là OK!</del></p><p style="text-align: justify;">Mạch đã cập nhật đầy đủ.</p><p style="text-align: justify;">&nbsp;<i class="fa fa-book"><span style="color: transparent; display: none;">icon-book</span></i>&nbsp;<strong>Bonus:</strong></p><p style="text-align: justify;">Mình bonus thêm cho các bạn đoạn code giúp các bạn có thể hiệu chỉnh độ phân giải của DS18B20 (Độ chính xác của cảm biến)</p><p style="text-align: justify;">Như chúng ta đã biết, DS18B20 có thể cho ra kết quả 9bit, 10bit, 11bit, 12bit tương ứng với độ chính xác 0.5°C, 0,25°C, 0.125°C, 0.0625°C.</p><p style="text-align: justify;">Mặc định DS18B20 sẽ cho ra kết quả dạng 12bit – sau thời gian tối thiểu 750ms. Khá lâu, vì thế nếu bạn không cần độ chính xác quá cao, có thể cấu hình lại theo đoạn code sau:</p><p style="text-align: justify;">(Ghi chú: Đoạn code này mình đã cập nhật lại trong bộ mã nguồn tải về phía trên – đoạn này để tham khảo nếu bạn không muốn tải về)</p><div id="crayon-5aaf804964037768491868" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;"><div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">#define DS18B20_RESOLUTION 		12 //Define resolution
//========================
//=HIEU CHINH DO PHAN GIAI CUA CAM BIEN
void SetResolution(unsigned int resolution)
{
	unsigned char resolution_bin;
	switch(resolution)
	{
	case 9: resolution_bin = 0x1F; break; //09bit = xx ~ R1R0 ~ 00
	case 10: resolution_bin = 0x3F; break; //10bit = xx ~ R1R0 ~ 01
	case 11: resolution_bin = 0x5F; break; //11bit = xx ~ R1R0 ~ 10
	case 12: resolution_bin = 0x7F; break; //12bit = xx ~ R1R0 ~ 11
	default: resolution_bin = 0x7F; //==&gt; default 12bits
	}
	Init_DS18B20();
	Write_byte(0xCC);                // Skip ROM
	Write_byte(0x4E);    			 // WRITE_SCRATCHPAD
	Write_byte(0x7f);                // Alarm TH (có thể thay bằng 0xFF nếu bị lỗi)
	Write_byte(0x80);                // Alarm TL (có thể thay bằng 0xFF nếu bị lỗi)
	Write_byte(resolution_bin);      // 0xx11111 xx=resolution (9-12 bits)
}

/**************************************
Các bạn cần gọi hàm này trước khi gửi lệnh Convert nhiệt độ
**************************************/
SetResolution(DS18B20_RESOLUTION);</textarea></div><div class="crayon-main" style="max-height: 500px; position: relative; z-index: 1; overflow: hidden;"><table class="crayon-table" style=""><tbody><tr class="crayon-row"><td class="crayon-nums " data-settings="show"><div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5aaf804964037768491868-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804964037768491868-2">2</div><div class="crayon-num" data-line="crayon-5aaf804964037768491868-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804964037768491868-4">4</div><div class="crayon-num" data-line="crayon-5aaf804964037768491868-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804964037768491868-6">6</div><div class="crayon-num" data-line="crayon-5aaf804964037768491868-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804964037768491868-8">8</div><div class="crayon-num" data-line="crayon-5aaf804964037768491868-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804964037768491868-10">10</div><div class="crayon-num" data-line="crayon-5aaf804964037768491868-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804964037768491868-12">12</div><div class="crayon-num" data-line="crayon-5aaf804964037768491868-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804964037768491868-14">14</div><div class="crayon-num" data-line="crayon-5aaf804964037768491868-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804964037768491868-16">16</div><div class="crayon-num" data-line="crayon-5aaf804964037768491868-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804964037768491868-18">18</div><div class="crayon-num" data-line="crayon-5aaf804964037768491868-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804964037768491868-20">20</div><div class="crayon-num" data-line="crayon-5aaf804964037768491868-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804964037768491868-22">22</div><div class="crayon-num" data-line="crayon-5aaf804964037768491868-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804964037768491868-24">24</div><div class="crayon-num" data-line="crayon-5aaf804964037768491868-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5aaf804964037768491868-26">26</div></div></td><td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5aaf804964037768491868-1"><span class="crayon-p">#define DS18B20_RESOLUTION 		12 //Define resolution</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804964037768491868-2"><span class="crayon-c">//========================</span></div><div class="crayon-line" id="crayon-5aaf804964037768491868-3"><span class="crayon-c">//=HIEU CHINH DO PHAN GIAI CUA CAM BIEN</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804964037768491868-4"><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">SetResolution</span><span class="crayon-sy">(</span><span class="crayon-t">unsigned</span><span class="crayon-h"> </span><span class="crayon-t">int</span><span class="crayon-h"> </span><span class="crayon-v">resolution</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5aaf804964037768491868-5"><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804964037768491868-6"><span class="crayon-h"> </span><span class="crayon-t">unsigned</span><span class="crayon-h"> </span><span class="crayon-t">char</span><span class="crayon-h"> </span><span class="crayon-v">resolution_bin</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5aaf804964037768491868-7"><span class="crayon-h"> </span><span class="crayon-st">switch</span><span class="crayon-sy">(</span><span class="crayon-v">resolution</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804964037768491868-8"><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5aaf804964037768491868-9"><span class="crayon-h"> </span><span class="crayon-st">case</span><span class="crayon-h"> </span><span class="crayon-cn">9</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">resolution_bin</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0x1F</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">break</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">//09bit = xx ~ R1R0 ~ 00</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804964037768491868-10"><span class="crayon-h"> </span><span class="crayon-st">case</span><span class="crayon-h"> </span><span class="crayon-cn">10</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">resolution_bin</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0x3F</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">break</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">//10bit = xx ~ R1R0 ~ 01</span></div><div class="crayon-line" id="crayon-5aaf804964037768491868-11"><span class="crayon-h"> </span><span class="crayon-st">case</span><span class="crayon-h"> </span><span class="crayon-cn">11</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">resolution_bin</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0x5F</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">break</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">//11bit = xx ~ R1R0 ~ 10</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804964037768491868-12"><span class="crayon-h"> </span><span class="crayon-st">case</span><span class="crayon-h"> </span><span class="crayon-cn">12</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">resolution_bin</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0x7F</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">break</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">//12bit = xx ~ R1R0 ~ 11</span></div><div class="crayon-line" id="crayon-5aaf804964037768491868-13"><span class="crayon-h"> </span><span class="crayon-st">default</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">resolution_bin</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0x7F</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">//==&gt; default 12bits</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804964037768491868-14"><span class="crayon-h"> </span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5aaf804964037768491868-15"><span class="crayon-h"> </span><span class="crayon-e">Init_DS18B20</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804964037768491868-16"><span class="crayon-h"> </span><span class="crayon-e">Write_byte</span><span class="crayon-sy">(</span><span class="crayon-cn">0xCC</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Skip ROM</span></div><div class="crayon-line" id="crayon-5aaf804964037768491868-17"><span class="crayon-h"> </span><span class="crayon-e">Write_byte</span><span class="crayon-sy">(</span><span class="crayon-cn">0x4E</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// WRITE_SCRATCHPAD</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804964037768491868-18"><span class="crayon-h"> </span><span class="crayon-e">Write_byte</span><span class="crayon-sy">(</span><span class="crayon-cn">0x7f</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Alarm TH (có thể thay bằng 0xFF nếu bị lỗi)</span></div><div class="crayon-line" id="crayon-5aaf804964037768491868-19"><span class="crayon-h"> </span><span class="crayon-e">Write_byte</span><span class="crayon-sy">(</span><span class="crayon-cn">0x80</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Alarm TL (có thể thay bằng 0xFF nếu bị lỗi)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804964037768491868-20"><span class="crayon-h"> </span><span class="crayon-e">Write_byte</span><span class="crayon-sy">(</span><span class="crayon-v">resolution_bin</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// 0xx11111 xx=resolution (9-12 bits)</span></div><div class="crayon-line" id="crayon-5aaf804964037768491868-21"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804964037768491868-22">&nbsp;</div><div class="crayon-line" id="crayon-5aaf804964037768491868-23"><span class="crayon-c">/**************************************</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804964037768491868-24"><span class="crayon-c">Các bạn cần gọi hàm này trước khi gửi lệnh Convert nhiệt độ</span></div><div class="crayon-line" id="crayon-5aaf804964037768491868-25"><span class="crayon-c">**************************************/</span></div><div class="crayon-line crayon-striped-line" id="crayon-5aaf804964037768491868-26"><span class="crayon-e">SetResolution</span><span class="crayon-sy">(</span><span class="crayon-v">DS18B20_RESOLUTION</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div></div></td></tr></tbody></table></div></div> &nbsp;<p></p><div class="sharedaddy sd-sharing-enabled"><div class="robots-nocontent sd-block sd-social sd-social-icon sd-sharing"><h3 class="sd-title">Share this post</h3><div class="sd-content"><ul><li class="share-twitter"><a rel="nofollow" data-shared="sharing-twitter-207" class="share-twitter sd-button share-icon no-text" href="http://thanhnt.com/blog/project-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553/?share=twitter&amp;nb=1" target="_blank" title="Click to share on Twitter" data-wpel-link="internal"><span></span><span class="sharing-screen-reader-text">Click to share on Twitter (Opens in new window)</span></a></li><li class="share-facebook"><a rel="nofollow" data-shared="sharing-facebook-207" class="share-facebook sd-button share-icon no-text" href="http://thanhnt.com/blog/project-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553/?share=facebook&amp;nb=1" target="_blank" title="Click to share on Facebook" data-wpel-link="internal"><span><span class="share-count">13</span></span><span class="sharing-screen-reader-text">Click to share on Facebook (Opens in new window)<span class="share-count">13</span></span></a></li><li class="share-google-plus-1"><a rel="nofollow" data-shared="sharing-google-207" class="share-google-plus-1 sd-button share-icon no-text" href="http://thanhnt.com/blog/project-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553/?share=google-plus-1&amp;nb=1" target="_blank" title="Click to share on Google+" data-wpel-link="internal"><span></span><span class="sharing-screen-reader-text">Click to share on Google+ (Opens in new window)</span></a></li><li class="share-linkedin"><a rel="nofollow" data-shared="sharing-linkedin-207" class="share-linkedin sd-button share-icon no-text" href="http://thanhnt.com/blog/project-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553/?share=linkedin&amp;nb=1" target="_blank" title="Click to share on LinkedIn" data-wpel-link="internal"><span></span><span class="sharing-screen-reader-text">Click to share on LinkedIn (Opens in new window)</span></a></li><li class="share-pinterest"><a rel="nofollow" data-shared="sharing-pinterest-207" class="share-pinterest sd-button share-icon no-text" href="http://thanhnt.com/blog/project-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553/?share=pinterest&amp;nb=1" target="_blank" title="Click to share on Pinterest" data-wpel-link="internal"><span></span><span class="sharing-screen-reader-text">Click to share on Pinterest (Opens in new window)</span></a></li><li class="share-end"></li></ul></div></div></div><div id="jp-relatedposts" class="jp-relatedposts" style="display: block;"><h3 class="jp-relatedposts-headline"><em>YOU MAY ALSO LIKE</em></h3><div class="jp-relatedposts-items jp-relatedposts-items-minimal jp-relatedposts-grid "><p class="jp-relatedposts-post jp-relatedposts-post0" data-post-id="557" data-post-format="false"><span class="jp-relatedposts-post-title"><a class="jp-relatedposts-post-a" href="http://thanhnt.com/blog/dev-liet-ke-cac-cong-com-tren-may-tinh-voi-c/" title="[DEV] Liệt kê các cổng COM trên máy tính với C#

Trong 1 Project có giao tiếp với mạch điều khiển bên ngoài qua giao diện GUI trên máy tính, phần ứng dụng viết bằng C# có nhiệm vụ tạo kết nối giữa ứng dụng trên máy tính với mạch giao tiếp bên ngoài thông qua cổng COM đã được chọn.…" rel="nofollow" data-origin="207" data-position="0">[DEV] Liệt kê các cổng COM trên máy tính với C#</a></span><span class="jp-relatedposts-post-date">October 8, 2014</span><span class="jp-relatedposts-post-context">In "Điện tử"</span></p><p class="jp-relatedposts-post jp-relatedposts-post1" data-post-id="732" data-post-format="false"><span class="jp-relatedposts-post-title"><a class="jp-relatedposts-post-a" href="http://thanhnt.com/blog/msp430-giao-tiep-voi-ic-ghi-dich-74hc595/" title="MSP430 - Giao tiếp với IC ghi dịch 74HC595

74HC595 thuộc dòng 74xx595 (xx là ký hiệu có thể khác nhau giữa các hãng) là IC ghi dịch 8bit chốt dữ liệu, đầu vào nối tiếp, đầu ra song song. Dùng để mở rộng cổng ra của MCU (Vi điều khiển) sử dụng giao tiếp SPI. Chúng ta có thể…" rel="nofollow" data-origin="207" data-position="1">MSP430 - Giao tiếp với IC ghi dịch 74HC595</a></span><span class="jp-relatedposts-post-date">February 24, 2015</span><span class="jp-relatedposts-post-context">In "Điện tử"</span></p><p class="jp-relatedposts-post jp-relatedposts-post2" data-post-id="202" data-post-format="false"><span class="jp-relatedposts-post-title"><a class="jp-relatedposts-post-a" href="http://thanhnt.com/blog/cac-khoa-registry-cho-phep-autorun-trong-windows/" title="Các khóa Registry cho phép Autorun trong Windows

Dưới đây là 1 số khóa Registry cho phép thực thi 1 chương trình khi máy tính khởi động lên một cách tự động. Các chương trình đăng ký dưới các khóa này có thể được thực thi cả trong chế độ thường (Nomal Mode) hoặc An toàn (Safe Mode).…" rel="nofollow" data-origin="207" data-position="2">Các khóa Registry cho phép Autorun trong Windows</a></span><span class="jp-relatedposts-post-date">March 15, 2014</span><span class="jp-relatedposts-post-context">In "Hệ Thống"</span></p><p class="jp-relatedposts-post jp-relatedposts-post3" data-post-id="925" data-post-format="false"><span class="jp-relatedposts-post-title"><a class="jp-relatedposts-post-a" href="http://thanhnt.com/blog/lap-trinh-stm32-cai-dat-ide-va-chuong-trinh-dau-tien-blinkled/" title="Lập trình STM32 - Cài đặt IDE và chương trình đầu tiên BlinkLed

Phần mềm Để bắt đầu vào làm việc với dòng STM32, ngoài công cụ hỗ trợ cấu hình là STM32CubeMX thì còn có phần mềm lập trình và biên dịch nữa. Các phần mềm hỗ trợ viết code và biên dịch nổi tiếng như Keil C, IAR, Cocos Code IDE... (Các…" rel="nofollow" data-origin="207" data-position="3">Lập trình STM32 - Cài đặt IDE và chương trình đầu tiên BlinkLed</a></span><span class="jp-relatedposts-post-date">April 22, 2015</span><span class="jp-relatedposts-post-context">In "Cơ bản"</span></p><p class="jp-relatedposts-post jp-relatedposts-post4" data-post-id="753" data-post-format="false"><span class="jp-relatedposts-post-title"><a class="jp-relatedposts-post-a" href="http://thanhnt.com/blog/cau-lenh-nen-giai-nen-thuong-dung-trong-linux/" title="Câu lệnh nén - giải nén thường dùng trong Linux

Một số câu lệnh nén - giải nén hay dùng trong Linux. Các câu lệnh thường dùng như tar, gzip, zip, unzip, gunzip... Cách ứng dụng để đóng gói, sao lưu dữ liệu. TAR tar -[option] file_archive files/directories TAR chỉ dùng để đóng gói các tập tin thành 1 khối, vì…" rel="nofollow" data-origin="207" data-position="4">Câu lệnh nén - giải nén thường dùng trong Linux</a></span><span class="jp-relatedposts-post-date">February 26, 2015</span><span class="jp-relatedposts-post-context">In "Hệ Thống"</span></p><p class="jp-relatedposts-post jp-relatedposts-post5" data-post-id="709" data-post-format="false"><span class="jp-relatedposts-post-title"><a class="jp-relatedposts-post-a" href="http://thanhnt.com/blog/tao-file-hex-voi-ccs-lap-trinh-msp30/" title="Tạo file hex với CCS - Lập trình MSP30

Hướng dẫn xuất file hex từ trình biên dịch CCS (Code Composer Studio)   Với CCS v5 1. Click chọn Project =&gt; Properties 2. Trong cửa sổ Properties, chọn mục Build bên trái. Trong tab Build Steps, chọn định dạng TI-TXT (xuất ra file .txt) hoặc INTEL-HEX (xuất ra file .hex) tại…" rel="nofollow" data-origin="207" data-position="5">Tạo file hex với CCS - Lập trình MSP30</a></span><span class="jp-relatedposts-post-date">February 11, 2015</span><span class="jp-relatedposts-post-context">In "Cơ bản"</span></p></div></div></div></div></div><div class="postauthor"><h4>About The Author</h4> <img src="./Mạch đo nhiệt độ - điều khiển động cơ với MSP430G2553_files/image-140x140.jpg" width="100" height="100" alt="Trung Thành" class="avatar avatar-100 wp-user-avatar wp-user-avatar-100 alignnone photo" data-lazy-loaded="true" style="display: block;"><noscript>&lt;img src="http://thanhnt.com/blog/wp-content/uploads/2015/06/image-140x140.jpg" width="100" height="100" alt="Trung Thành" class="avatar avatar-100 wp-user-avatar wp-user-avatar-100 alignnone photo" /&gt;</noscript><h5 class="vcard author"><a href="http://thanhnt.com/blog/author/trungthanh/" class="fn" data-wpel-link="internal">Trung Thành</a></h5><p>Hiện tại tôi đang sống tại Hà Nội, công việc của tôi chủ yếu liên quan đến điện tử. Tôi quan tâm đến thiết kế mạch, lập trình và thiết kế hệ thống nhúng, Internet of Thing.</p></div></div><div class="wpdiscuz_top_clearing"></div><div id="comments" class="comments-area"><div id="respond" style="width: 0;height: 0;clear: both;margin: 0;padding: 0;"></div><h3 id="wc-comment-header">Leave a Reply</h3><div id="wpcomm" class="wpdiscuz_unauth wpd-default"><div class="wc-comment-bar"><p class="wc-comment-title"> <span class="wc_header_text_count">19</span> Comments on "[Project] Mạch đo nhiệt độ – điều khiển động cơ với MSP430G2553"</p><div class="wpdiscuz_clear"></div></div><div class="wc_social_plugin_wrapper"></div><div class="wc-form-wrapper wc-main-form-wrapper" id="wc-main-form-wrapper-0_0"><div class="wpdiscuz-comment-message" style="display: block;"></div><form class="wc_comm_form wc_main_comm_form" method="post" enctype="multipart/form-data"><div class="wc-field-comment"><div class="wc-field-avatararea"> <img src="./Mạch đo nhiệt độ - điều khiển động cơ với MSP430G2553_files/saved_resource" width="64" height="64" alt="avatar" class="avatar avatar-64 wp-user-avatar wp-user-avatar-64 photo avatar-default" data-lazy-loaded="true" style="display: inline;"><noscript>&lt;img src="http://2.gravatar.com/avatar/?s=64&amp;#038;d=mm&amp;#038;r=g" width="64" height="64" alt="avatar" class="avatar avatar-64 wp-user-avatar wp-user-avatar-64 photo avatar-default" /&gt;</noscript></div><div class="wpdiscuz-item wc-field-textarea"><div class="wpdiscuz-textarea-wrap "><textarea id="wc-textarea-0_0" placeholder="Join the discussion" required="" name="wc_comment" class="wc_comment wpd-field"></textarea></div></div><div class="clearfix"></div></div><div class="wc-form-footer" style="display: none;"><div class="wpd-form-row"><div class="wpd-form-col-left"><div class="wpdiscuz-item wpd-has-icon"><div class="wpd-field-icon"><i class="fas fa-user"></i></div> <input required="required" class="wc_name wpd-field" type="text" name="wc_name" value="" placeholder="Name" maxlength="50" pattern=".{3,50}" title=""></div><div class="wpdiscuz-item wpd-has-icon"><div class="wpd-field-icon"><i class="fas fa-at"></i></div> <input required="required" class="wc_email wpd-field" type="email" name="wc_email" value="" placeholder="Email"></div><div class="wpdiscuz-item wpd-has-icon"><div class="wpd-field-icon"><i class="fas fa-link"></i></div> <input class="wc_website wpd-field" type="text" name="wc_website" value="" placeholder="WebSite URL"></div></div><div class="wpd-form-col-right"><div class="wc-field-captcha wpdiscuz-item"><div class="wc-captcha-input"> <input type="text" maxlength="5" value="" autocomplete="off" required="required" name="wc_captcha" class="wpd-field wc_field_captcha" placeholder="Code" title="Insert the CAPTCHA code"></div><div class="wc-label wc-captcha-label"> <a class="wpdiscuz-nofollow" href="http://thanhnt.com/blog/project-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553/#" rel="nofollow" data-wpel-link="internal"><img alt="wpdiscuz_captcha" class="wc_captcha_img" src="./Mạch đo nhiệt độ - điều khiển động cơ với MSP430G2553_files/captcha.php" width="80" height="26"></a><a class="wpdiscuz-nofollow wc_captcha_refresh_img" href="http://thanhnt.com/blog/project-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553/#" rel="nofollow" data-wpel-link="internal"><img alt="refresh" class="" src="./Mạch đo nhiệt độ - điều khiển động cơ với MSP430G2553_files/captcha-loading.png" width="16" height="16"></a> <input type="hidden" id="c5aaf804c44c15" class="wpdiscuz-cnonce" name="cnonce" value="c5aaf804c44c15"></div><div class="clearfix"></div></div><div class="wc-field-submit"> <label class="wpd_label"> <input id="wc_notification_new_comment-0_0" class="wc_notification_new_comment-0_0 wpd_label__checkbox" value="comment" type="checkbox" name="wpdiscuz_notification_type"> <span class="wpd_label__text"> <span class="wpd_label__check"><div class="wpd-field-desc"><i class="fas fa-bell wpdicon wpdicon-on"></i><span>Notify of new replies to this comment - (on)</span></div><div class="wpd-field-desc"><i class="fas fa-bell-slash wpdicon wpdicon-off"></i><span>Notify of new replies to this comment - (off)</span></div> </span> </span> </label> <input class="wc_comm_submit wc_not_clicked button alt" type="submit" name="submit" value="Post Comment"></div></div><div class="clearfix"></div></div></div><div class="clearfix"></div> <input type="hidden" class="wpdiscuz_unique_id" value="0_0" name="wpdiscuz_unique_id"></form></div><div id="wpdiscuz_hidden_secondary_form" style="display: none;"><div class="wc-form-wrapper wc-secondary-form-wrapper" id="wc-secondary-form-wrapper-wpdiscuzuniqueid" style="display: none;"><div class="wpdiscuz-comment-message" style="display: block;"></div><div class="wc-secondary-forms-social-content"></div><form class="wc_comm_form wc-secondary-form-wrapper" method="post" enctype="multipart/form-data"><div class="wc-field-comment"><div class="wc-field-avatararea"> <img src="./Mạch đo nhiệt độ - điều khiển động cơ với MSP430G2553_files/saved_resource(1)" width="48" height="48" alt="avatar" class="avatar avatar-48 wp-user-avatar wp-user-avatar-48 photo avatar-default" data-lazy-loaded="true" style="display: inline;"><noscript>&lt;img src="http://0.gravatar.com/avatar/?s=48&amp;#038;d=mm&amp;#038;r=g" width="48" height="48" alt="avatar" class="avatar avatar-48 wp-user-avatar wp-user-avatar-48 photo avatar-default" /&gt;</noscript></div><div class="wpdiscuz-item wc-field-textarea"><div class="wpdiscuz-textarea-wrap "><textarea id="wc-textarea-wpdiscuzuniqueid" placeholder="Join the discussion" required="" name="wc_comment" class="wc_comment wpd-field"></textarea></div></div><div class="clearfix"></div></div><div class="wc-form-footer" style="display: none;"><div class="wpd-form-row"><div class="wpd-form-col-left"><div class="wpdiscuz-item wpd-has-icon"><div class="wpd-field-icon"><i class="fas fa-user"></i></div> <input required="required" class="wc_name wpd-field" type="text" name="wc_name" value="" placeholder="Name" maxlength="50" pattern=".{3,50}" title=""></div><div class="wpdiscuz-item wpd-has-icon"><div class="wpd-field-icon"><i class="fas fa-at"></i></div> <input required="required" class="wc_email wpd-field" type="email" name="wc_email" value="" placeholder="Email"></div><div class="wpdiscuz-item wpd-has-icon"><div class="wpd-field-icon"><i class="fas fa-link"></i></div> <input class="wc_website wpd-field" type="text" name="wc_website" value="" placeholder="WebSite URL"></div></div><div class="wpd-form-col-right"><div class="wc-field-captcha wpdiscuz-item"><div class="wc-captcha-input"> <input type="text" maxlength="5" value="" autocomplete="off" required="required" name="wc_captcha" class="wpd-field wc_field_captcha" placeholder="Code" title="Insert the CAPTCHA code"></div><div class="wc-label wc-captcha-label"> <a class="wpdiscuz-nofollow" href="http://thanhnt.com/blog/project-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553/#" rel="nofollow" data-wpel-link="internal"><img alt="wpdiscuz_captcha" class="wc_captcha_img" src="./Mạch đo nhiệt độ - điều khiển động cơ với MSP430G2553_files/captcha(1).php" width="80" height="26"></a><a class="wpdiscuz-nofollow wc_captcha_refresh_img" href="http://thanhnt.com/blog/project-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553/#" rel="nofollow" data-wpel-link="internal"><img alt="refresh" class="" src="./Mạch đo nhiệt độ - điều khiển động cơ với MSP430G2553_files/captcha-loading.png" width="16" height="16"></a> <input type="hidden" id="c5aaf804c4884e" class="wpdiscuz-cnonce" name="cnonce" value="c5aaf804c4884e"></div><div class="clearfix"></div></div><div class="wc-field-submit"> <label class="wpd_label"> <input id="wc_notification_new_comment-wpdiscuzuniqueid" class="wc_notification_new_comment-wpdiscuzuniqueid wpd_label__checkbox" value="comment" type="checkbox" name="wpdiscuz_notification_type"> <span class="wpd_label__text"> <span class="wpd_label__check"><div class="wpd-field-desc"><i class="fas fa-bell wpdicon wpdicon-on"></i><span>Notify of new replies to this comment - (on)</span></div><div class="wpd-field-desc"><i class="fas fa-bell-slash wpdicon wpdicon-off"></i><span>Notify of new replies to this comment - (off)</span></div> </span> </span> </label> <input class="wc_comm_submit wc_not_clicked button alt" type="submit" name="submit" value="Post Comment"></div></div><div class="clearfix"></div></div></div><div class="clearfix"></div> <input type="hidden" class="wpdiscuz_unique_id" value="wpdiscuzuniqueid" name="wpdiscuz_unique_id"></form></div></div><div class="wpdiscuz-front-actions"><div class="wpdiscuz-sbs-wrap"> <span><i class="far fa-envelope" aria-hidden="true"></i>&nbsp; Subscribe &nbsp;<i class="fas fa-caret-down" aria-hidden="true"></i></span></div><div class="wpdiscuz-sort-buttons" style="font-size:14px; color: #777;"> <i class="fas fa-caret-up" aria-hidden="true"></i> <span class="wpdiscuz-sort-button wpdiscuz-date-sort-desc">newest</span> <i class="fas fa-caret-up" aria-hidden="true"></i> <span class="wpdiscuz-sort-button wpdiscuz-date-sort-asc wpdiscuz-sort-button-active">oldest</span> <i class="fas fa-caret-up" aria-hidden="true"></i> <span class="wpdiscuz-sort-button wpdiscuz-vote-sort-up">most voted</span></div><div class="clearfix"></div></div><div class="wpdiscuz-subscribe-bar wpdiscuz-hidden"><form action="http://thanhnt.com/blog/wp-admin/admin-ajax.php?action=addSubscription" method="post" id="wpdiscuz-subscribe-form"><div class="wpdiscuz-subscribe-form-intro">Notify of</div><div class="wpdiscuz-subscribe-form-option" style="width:40%;"> <select class="wpdiscuz_select" name="wpdiscuzSubscriptionType"><option value="post">new follow-up comments</option><option value="all_comment">new replies to my comments</option> </select></div><div class="wpdiscuz-item wpdiscuz-subscribe-form-email"> <input class="email" type="email" name="wpdiscuzSubscriptionEmail" required="required" value="" placeholder="Email"></div><div class="wpdiscuz-subscribe-form-button"> <input id="wpdiscuz_subscription_button" type="submit" value="›" name="wpdiscuz_subscription_button"></div> <input type="hidden" id="wpdiscuz_subscribe_form_nonce" name="wpdiscuz_subscribe_form_nonce" value="61ea99e480"><input type="hidden" name="_wp_http_referer" value="/blog/project-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553/"> <input type="hidden" value="207" name="wpdiscuzSubscriptionPostId"></form><div class="wpdiscuz_clear"></div></div><div id="wcThreadWrapper" class="wc-thread-wrapper"><div id="wc-comm-1_0" class="wc-comment  wpdiscuz-root-comment  wc-blog-guest wc_comment_level-1"><div class="wc-comment-left "><div class="wpd-xborder"></div><img src="./Mạch đo nhiệt độ - điều khiển động cơ với MSP430G2553_files/4735b5d537aed0b916542f679ba90ca0" width="64" height="64" alt="Hải dớ" class="avatar avatar-64 wp-user-avatar wp-user-avatar-64 photo avatar-default" data-lazy-loaded="true" style="display: block;"><noscript>&lt;img src="http://1.gravatar.com/avatar/4735b5d537aed0b916542f679ba90ca0?s=64&amp;#038;d=mm&amp;#038;r=g" width="64" height="64" alt="Hải dớ" class="avatar avatar-64 wp-user-avatar wp-user-avatar-64 photo avatar-default" /&gt;</noscript><div class="wc-blog-guest wc-comment-label"><span>Guest</span></div></div><div id="comment-1" class="wc-comment-right "><div class="wc-comment-header"><div class="wc-comment-author ">Hải dớ</div><div class="wc-comment-link"><i class="fas fa-share-alt wc-share-link wpf-cta" aria-hidden="true" title="Share"></i><span class="share_buttons_box"><a class="wc_tw" target="_blank" href="https://twitter.com/intent/tweet?text=1.+c%C3%A1i+s%C6%A1+%C4%91%E1%BB%93+nguy%C3%AAn+l%C3%BD+a+v%E1%BA%BD+%3D+soft+n%C3%A0o+m%C3%A0+c%C3%B3+kh...+&amp;url=http%3A%2F%2Fthanhnt.com%2Fblog%2Fproject-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553%2F%23comment-1" title="" data-wpel-link="external" rel="nofollow external noopener noreferrer"><i class="fab fa-twitter wpf-cta" aria-hidden="true"></i><span>Share On Twitter</span></a><a class="wc_go" target="_blank" href="https://plus.google.com/share?url=http://thanhnt.com/blog/project-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553/" title="" data-wpel-link="internal"><i class="fab fa-google wpf-cta" aria-hidden="true"></i><span>Share On Google</span></a></span><span class="wc-comment-img-link-wrap"><i class="fas fa-link wc-comment-img-link wpf-cta" aria-hidden="true"></i><span><input type="text" class="wc-comment-link-input" value="http://thanhnt.com/blog/project-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553/#comment-1"></span></span></div><div class="wpdiscuz_clear"></div></div><div class="wc-comment-text"><p>1. cái sơ đồ nguyên lý a vẽ = soft nào mà có khung đẹp thế?<br> 2. đầu 12v lấy từ đâu thế a?</p></div><div class="wc-comment-footer"><div class="wc-footer-left"><span class="wc-vote-link wc-up  wc_vote wc_not_clicked"><i class="fas fa-plus wc-vote-img-up"></i><span>Vote Up</span></span><span class="wc-vote-result">0</span><span class="wc-vote-link wc-down  wc_vote wc_not_clicked"><i class="fas fa-minus wc-vote-img-down"></i><span>Vote Down</span></span>&nbsp;<span class="wc-reply-button wc-cta-button" title="Reply"><i class="fas fa-reply" aria-hidden="true"></i> Reply</span></div><div class="wc-footer-right"><div class="wc-comment-date"><i class="far fa-clock" aria-hidden="true"></i>3 years ago</div><div class="wc-toggle"><i class="fas fa-chevron-up" title="Hide Replies"></i></div></div><div class="wpdiscuz_clear"></div></div></div><div class="wpdiscuz-comment-message"></div><div id="wpdiscuz_form_anchor-1_0" style="clear:both"></div><div id="wc-comm-2_1" class="wc-comment wc-reply wc-blog-user wc-blog-post_author wc_comment_level-2"><div class="wc-comment-left "><div class="wpd-xborder"></div><a href="http://thanhnt.com/blog/author/trungthanh/" target="_blank" data-wpel-link="internal"><img src="./Mạch đo nhiệt độ - điều khiển động cơ với MSP430G2553_files/1x1.trans.gif" data-lazy-src="http://thanhnt.com/blog/wp-content/uploads/2015/06/image-140x140.jpg" width="64" height="64" alt="Trung Thành" class="avatar avatar-64 wp-user-avatar wp-user-avatar-64 alignnone photo"><noscript>&lt;img src="http://thanhnt.com/blog/wp-content/uploads/2015/06/image-140x140.jpg" width="64" height="64" alt="Trung Thành" class="avatar avatar-64 wp-user-avatar wp-user-avatar-64 alignnone photo" /&gt;</noscript></a><div class="wc-blog-user wc-blog-post_author wc-comment-label"><span>Author</span></div></div><div id="comment-2" class="wc-comment-right "><div class="wc-comment-header"><div class="wc-comment-author "><a rel="nofollow" href="http://thanhnt.com/" target="_blank" data-wpel-link="exclude">Trung Thành</a></div><div class="wc-comment-link"><i class="fas fa-share-alt wc-share-link wpf-cta" aria-hidden="true" title="Share"></i><span class="share_buttons_box"><a class="wc_tw" target="_blank" href="https://twitter.com/intent/tweet?text=1.+D%C3%B9ng+Altium+Designer.+Ch%C3%BA+d%C3%B9ng+c%C3%A1i+Eagle+c%C5%A9n...+&amp;url=http%3A%2F%2Fthanhnt.com%2Fblog%2Fproject-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553%2F%23comment-2" title="" data-wpel-link="external" rel="nofollow external noopener noreferrer"><i class="fab fa-twitter wpf-cta" aria-hidden="true"></i><span>Share On Twitter</span></a><a class="wc_go" target="_blank" href="https://plus.google.com/share?url=http://thanhnt.com/blog/project-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553/" title="" data-wpel-link="internal"><i class="fab fa-google wpf-cta" aria-hidden="true"></i><span>Share On Google</span></a></span><span class="wc-comment-img-link-wrap"><i class="fas fa-link wc-comment-img-link wpf-cta" aria-hidden="true"></i><span><input type="text" class="wc-comment-link-input" value="http://thanhnt.com/blog/project-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553/#comment-2"></span></span></div><div class="wpdiscuz_clear"></div></div><div class="wc-comment-text"><p>1. Dùng Altium Designer. Chú dùng cái Eagle cũng được cái hình đẹp không kém.<br> 2. Đầu 12v là nguồn vào nuôi toàn mạch, lấy từ jack nguồn. (Hình cái jack nguồn phía trên con VĐK đấy)</p></div><div class="wc-comment-footer"><div class="wc-footer-left"><span class="wc-vote-link wc-up  wc_vote wc_not_clicked"><i class="fas fa-plus wc-vote-img-up"></i><span>Vote Up</span></span><span class="wc-vote-result">0</span><span class="wc-vote-link wc-down  wc_vote wc_not_clicked"><i class="fas fa-minus wc-vote-img-down"></i><span>Vote Down</span></span>&nbsp;<span class="wc-reply-button wc-cta-button" title="Reply"><i class="fas fa-reply" aria-hidden="true"></i> Reply</span></div><div class="wc-footer-right"><div class="wc-comment-date"><i class="far fa-clock" aria-hidden="true"></i>3 years ago</div><div class="wc-toggle"></div></div><div class="wpdiscuz_clear"></div></div></div><div class="wpdiscuz-comment-message"></div><div id="wpdiscuz_form_anchor-2_1" style="clear:both"></div></div></div><div id="wc-comm-48_0" class="wc-comment  wpdiscuz-root-comment  wc-blog-guest wc_comment_level-1"><div class="wc-comment-left "><div class="wpd-xborder"></div><img src="./Mạch đo nhiệt độ - điều khiển động cơ với MSP430G2553_files/1x1.trans.gif" data-lazy-src="http://2.gravatar.com/avatar/b2339ec4f2c432df0eab8e9980f7ddbf?s=64&amp;d=mm&amp;r=g" width="64" height="64" alt="Nguyễn Vủ Linh" class="avatar avatar-64 wp-user-avatar wp-user-avatar-64 photo avatar-default"><noscript>&lt;img src="http://2.gravatar.com/avatar/b2339ec4f2c432df0eab8e9980f7ddbf?s=64&amp;#038;d=mm&amp;#038;r=g" width="64" height="64" alt="Nguyễn Vủ Linh" class="avatar avatar-64 wp-user-avatar wp-user-avatar-64 photo avatar-default" /&gt;</noscript><div class="wc-blog-guest wc-comment-label"><span>Guest</span></div></div><div id="comment-48" class="wc-comment-right "><div class="wc-comment-header"><div class="wc-comment-author ">Nguyễn Vủ Linh</div><div class="wc-comment-link"><i class="fas fa-share-alt wc-share-link wpf-cta" aria-hidden="true" title="Share"></i><span class="share_buttons_box"><a class="wc_tw" target="_blank" href="https://twitter.com/intent/tweet?text=ch%C3%A0o+anh%2C+m%C3%ACnh+c%C3%B3+th%E1%BB%83+so+s%C3%A1nh+gi%C3%A1+tr%E1%BB%8B+%C4%91%E1%BB%8Dc+t%E1%BB%AB+D...+&amp;url=http%3A%2F%2Fthanhnt.com%2Fblog%2Fproject-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553%2F%23comment-48" title="" data-wpel-link="external" rel="nofollow external noopener noreferrer"><i class="fab fa-twitter wpf-cta" aria-hidden="true"></i><span>Share On Twitter</span></a><a class="wc_go" target="_blank" href="https://plus.google.com/share?url=http://thanhnt.com/blog/project-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553/" title="" data-wpel-link="internal"><i class="fab fa-google wpf-cta" aria-hidden="true"></i><span>Share On Google</span></a></span><span class="wc-comment-img-link-wrap"><i class="fas fa-link wc-comment-img-link wpf-cta" aria-hidden="true"></i><span><input type="text" class="wc-comment-link-input" value="http://thanhnt.com/blog/project-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553/#comment-48"></span></span></div><div class="wpdiscuz_clear"></div></div><div class="wc-comment-text"><p>chào anh, mình có thể so sánh giá trị đọc từ DS18B20 và giá trị mốc cho nhiệt độ để động cơ tự điều chỉnh tăng giảm nhiệt độ được k anh? cám ơn anh</p></div><div class="wc-comment-footer"><div class="wc-footer-left"><span class="wc-vote-link wc-up  wc_vote wc_not_clicked"><i class="fas fa-plus wc-vote-img-up"></i><span>Vote Up</span></span><span class="wc-vote-result">0</span><span class="wc-vote-link wc-down  wc_vote wc_not_clicked"><i class="fas fa-minus wc-vote-img-down"></i><span>Vote Down</span></span>&nbsp;<span class="wc-reply-button wc-cta-button" title="Reply"><i class="fas fa-reply" aria-hidden="true"></i> Reply</span></div><div class="wc-footer-right"><div class="wc-comment-date"><i class="far fa-clock" aria-hidden="true"></i>3 years ago</div><div class="wc-toggle"><i class="fas fa-chevron-up" title="Hide Replies"></i></div></div><div class="wpdiscuz_clear"></div></div></div><div class="wpdiscuz-comment-message"></div><div id="wpdiscuz_form_anchor-48_0" style="clear:both"></div><div id="wc-comm-49_48" class="wc-comment wc-reply wc-blog-guest wc_comment_level-2"><div class="wc-comment-left "><div class="wpd-xborder"></div><img src="./Mạch đo nhiệt độ - điều khiển động cơ với MSP430G2553_files/1x1.trans.gif" data-lazy-src="http://thanhnt.com/blog/wp-content/uploads/2015/06/image-140x140.jpg" width="64" height="64" alt="Trung Thành" class="avatar avatar-64 wp-user-avatar wp-user-avatar-64 alignnone photo"><noscript>&lt;img src="http://thanhnt.com/blog/wp-content/uploads/2015/06/image-140x140.jpg" width="64" height="64" alt="Trung Thành" class="avatar avatar-64 wp-user-avatar wp-user-avatar-64 alignnone photo" /&gt;</noscript><div class="wc-blog-guest wc-comment-label"><span>Guest</span></div></div><div id="comment-49" class="wc-comment-right "><div class="wc-comment-header"><div class="wc-comment-author "><a rel="nofollow" href="http://thanhnt.com/" target="_blank" data-wpel-link="exclude">Nguyễn Trung Thành</a></div><div class="wc-comment-link"><i class="fas fa-share-alt wc-share-link wpf-cta" aria-hidden="true" title="Share"></i><span class="share_buttons_box"><a class="wc_tw" target="_blank" href="https://twitter.com/intent/tweet?text=C%C3%A1ch+n%C3%A0y+c%E1%BB%A7a+m%C3%ACnh+c%C5%A9ng+%C4%91%C6%B0%E1%BB%A3c+nh%C6%B0ng+kh%E1%BA%A3+n%C4%83ng+t%E1%BB%B1+...+&amp;url=http%3A%2F%2Fthanhnt.com%2Fblog%2Fproject-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553%2F%23comment-49" title="" data-wpel-link="external" rel="nofollow external noopener noreferrer"><i class="fab fa-twitter wpf-cta" aria-hidden="true"></i><span>Share On Twitter</span></a><a class="wc_go" target="_blank" href="https://plus.google.com/share?url=http://thanhnt.com/blog/project-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553/" title="" data-wpel-link="internal"><i class="fab fa-google wpf-cta" aria-hidden="true"></i><span>Share On Google</span></a></span><span class="wc-comment-img-link-wrap"><i class="fas fa-link wc-comment-img-link wpf-cta" aria-hidden="true"></i><span><input type="text" class="wc-comment-link-input" value="http://thanhnt.com/blog/project-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553/#comment-49"></span></span></div><div class="wpdiscuz_clear"></div></div><div class="wc-comment-text"><p>Cách này của mình cũng được nhưng khả năng tự calib tệ lắm.<br> Bạn có thể nghiên cứu thêm về thuật toán điều khiển PID.<br> Các bạn bên PayItForward cũng đã có bài về vụ này:<br> <a href="http://www.payitforward.edu.vn/forum/threads/1551/" rel="nofollow external noopener noreferrer" data-wpel-link="external" target="_blank">http://www.payitforward.edu.vn/forum/threads/1551/</a></p><p>Trên mạng hiện cũng chia sẻ nhiều nội dung liên quan đến dạng điều khiển có phản hồi như này. VD: lò ấp trứng, điều chỉnh nhiệt tự động, tự cân bằng cho robot…</p></div><div class="wc-comment-footer"><div class="wc-footer-left"><span class="wc-vote-link wc-up  wc_vote wc_not_clicked"><i class="fas fa-plus wc-vote-img-up"></i><span>Vote Up</span></span><span class="wc-vote-result">0</span><span class="wc-vote-link wc-down  wc_vote wc_not_clicked"><i class="fas fa-minus wc-vote-img-down"></i><span>Vote Down</span></span>&nbsp;<span class="wc-reply-button wc-cta-button" title="Reply"><i class="fas fa-reply" aria-hidden="true"></i> Reply</span></div><div class="wc-footer-right"><div class="wc-comment-date"><i class="far fa-clock" aria-hidden="true"></i>3 years ago</div><div class="wc-toggle"></div></div><div class="wpdiscuz_clear"></div></div></div><div class="wpdiscuz-comment-message"></div><div id="wpdiscuz_form_anchor-49_48" style="clear:both"></div></div></div><div id="wc-comm-50_0" class="wc-comment  wpdiscuz-root-comment  wc-blog-guest wc_comment_level-1"><div class="wc-comment-left "><div class="wpd-xborder"></div><img src="./Mạch đo nhiệt độ - điều khiển động cơ với MSP430G2553_files/1x1.trans.gif" data-lazy-src="http://0.gravatar.com/avatar/6476c284b7c27ae4c475da2b0c745b31?s=64&amp;d=mm&amp;r=g" width="64" height="64" alt="Đức Tun" class="avatar avatar-64 wp-user-avatar wp-user-avatar-64 photo avatar-default"><noscript>&lt;img src="http://0.gravatar.com/avatar/6476c284b7c27ae4c475da2b0c745b31?s=64&amp;#038;d=mm&amp;#038;r=g" width="64" height="64" alt="Đức Tun" class="avatar avatar-64 wp-user-avatar wp-user-avatar-64 photo avatar-default" /&gt;</noscript><div class="wc-blog-guest wc-comment-label"><span>Guest</span></div></div><div id="comment-50" class="wc-comment-right "><div class="wc-comment-header"><div class="wc-comment-author ">Đức Tun</div><div class="wc-comment-link"><i class="fas fa-share-alt wc-share-link wpf-cta" aria-hidden="true" title="Share"></i><span class="share_buttons_box"><a class="wc_tw" target="_blank" href="https://twitter.com/intent/tweet?text=b%E1%BA%A1n+cho+m%C3%ACnh+xin+th%C6%B0+vi%E1%BB%87n+altium+c%E1%BB%A7a+con+MSP43...+&amp;url=http%3A%2F%2Fthanhnt.com%2Fblog%2Fproject-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553%2F%23comment-50" title="" data-wpel-link="external" rel="nofollow external noopener noreferrer"><i class="fab fa-twitter wpf-cta" aria-hidden="true"></i><span>Share On Twitter</span></a><a class="wc_go" target="_blank" href="https://plus.google.com/share?url=http://thanhnt.com/blog/project-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553/" title="" data-wpel-link="internal"><i class="fab fa-google wpf-cta" aria-hidden="true"></i><span>Share On Google</span></a></span><span class="wc-comment-img-link-wrap"><i class="fas fa-link wc-comment-img-link wpf-cta" aria-hidden="true"></i><span><input type="text" class="wc-comment-link-input" value="http://thanhnt.com/blog/project-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553/#comment-50"></span></span></div><div class="wpdiscuz_clear"></div></div><div class="wc-comment-text"><p>bạn cho mình xin thư viện altium của con MSP430G2553 với</p></div><div class="wc-comment-footer"><div class="wc-footer-left"><span class="wc-vote-link wc-up  wc_vote wc_not_clicked"><i class="fas fa-plus wc-vote-img-up"></i><span>Vote Up</span></span><span class="wc-vote-result">0</span><span class="wc-vote-link wc-down  wc_vote wc_not_clicked"><i class="fas fa-minus wc-vote-img-down"></i><span>Vote Down</span></span>&nbsp;<span class="wc-reply-button wc-cta-button" title="Reply"><i class="fas fa-reply" aria-hidden="true"></i> Reply</span></div><div class="wc-footer-right"><div class="wc-comment-date"><i class="far fa-clock" aria-hidden="true"></i>3 years ago</div><div class="wc-toggle"><i class="fas fa-chevron-up" title="Hide Replies"></i></div></div><div class="wpdiscuz_clear"></div></div></div><div class="wpdiscuz-comment-message"></div><div id="wpdiscuz_form_anchor-50_0" style="clear:both"></div><div id="wc-comm-51_50" class="wc-comment wc-reply wc-blog-guest wc_comment_level-2"><div class="wc-comment-left "><div class="wpd-xborder"></div><img src="./Mạch đo nhiệt độ - điều khiển động cơ với MSP430G2553_files/1x1.trans.gif" data-lazy-src="http://thanhnt.com/blog/wp-content/uploads/2015/06/image-140x140.jpg" width="64" height="64" alt="Trung Thành" class="avatar avatar-64 wp-user-avatar wp-user-avatar-64 alignnone photo"><noscript>&lt;img src="http://thanhnt.com/blog/wp-content/uploads/2015/06/image-140x140.jpg" width="64" height="64" alt="Trung Thành" class="avatar avatar-64 wp-user-avatar wp-user-avatar-64 alignnone photo" /&gt;</noscript><div class="wc-blog-guest wc-comment-label"><span>Guest</span></div></div><div id="comment-51" class="wc-comment-right "><div class="wc-comment-header"><div class="wc-comment-author "><a rel="nofollow" href="http://thanhnt.com/" target="_blank" data-wpel-link="exclude">Nguyễn Trung Thành</a></div><div class="wc-comment-link"><i class="fas fa-share-alt wc-share-link wpf-cta" aria-hidden="true" title="Share"></i><span class="share_buttons_box"><a class="wc_tw" target="_blank" href="https://twitter.com/intent/tweet?text=%C4%90%C3%A2y+b%E1%BA%A1n+nh%C3%A9%2C+%C4%91a+s%E1%BB%91+chip+c%E1%BB%A7a+TI%3A%0Ahttp%3A%2F%2Fmedia.t...+&amp;url=http%3A%2F%2Fthanhnt.com%2Fblog%2Fproject-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553%2F%23comment-51" title="" data-wpel-link="external" rel="nofollow external noopener noreferrer"><i class="fab fa-twitter wpf-cta" aria-hidden="true"></i><span>Share On Twitter</span></a><a class="wc_go" target="_blank" href="https://plus.google.com/share?url=http://thanhnt.com/blog/project-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553/" title="" data-wpel-link="internal"><i class="fab fa-google wpf-cta" aria-hidden="true"></i><span>Share On Google</span></a></span><span class="wc-comment-img-link-wrap"><i class="fas fa-link wc-comment-img-link wpf-cta" aria-hidden="true"></i><span><input type="text" class="wc-comment-link-input" value="http://thanhnt.com/blog/project-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553/#comment-51"></span></span></div><div class="wpdiscuz_clear"></div></div><div class="wc-comment-text"><p>Đây bạn nhé, đa số chip của TI:<br> <a href="http://media.thanhnt.com/public_file/TI%20Altium.rar" rel="nofollow external noopener noreferrer" data-wpel-link="external" target="_blank">http://media.thanhnt.com/public_file/TI%20Altium.rar</a></p></div><div class="wc-comment-footer"><div class="wc-footer-left"><span class="wc-vote-link wc-up  wc_vote wc_not_clicked"><i class="fas fa-plus wc-vote-img-up"></i><span>Vote Up</span></span><span class="wc-vote-result">0</span><span class="wc-vote-link wc-down  wc_vote wc_not_clicked"><i class="fas fa-minus wc-vote-img-down"></i><span>Vote Down</span></span>&nbsp;<span class="wc-reply-button wc-cta-button" title="Reply"><i class="fas fa-reply" aria-hidden="true"></i> Reply</span></div><div class="wc-footer-right"><div class="wc-comment-date"><i class="far fa-clock" aria-hidden="true"></i>3 years ago</div><div class="wc-toggle"></div></div><div class="wpdiscuz_clear"></div></div></div><div class="wpdiscuz-comment-message"></div><div id="wpdiscuz_form_anchor-51_50" style="clear:both"></div></div></div><div id="wc-comm-62_0" class="wc-comment  wpdiscuz-root-comment  wc-blog-guest wc_comment_level-1"><div class="wc-comment-left "><div class="wpd-xborder"></div><img src="./Mạch đo nhiệt độ - điều khiển động cơ với MSP430G2553_files/1x1.trans.gif" data-lazy-src="http://1.gravatar.com/avatar/a3152be5a542cb7d09ec8b97ac363954?s=64&amp;d=mm&amp;r=g" width="64" height="64" alt="Trần Đại Ca" class="avatar avatar-64 wp-user-avatar wp-user-avatar-64 photo avatar-default"><noscript>&lt;img src="http://1.gravatar.com/avatar/a3152be5a542cb7d09ec8b97ac363954?s=64&amp;#038;d=mm&amp;#038;r=g" width="64" height="64" alt="Trần Đại Ca" class="avatar avatar-64 wp-user-avatar wp-user-avatar-64 photo avatar-default" /&gt;</noscript><div class="wc-blog-guest wc-comment-label"><span>Guest</span></div></div><div id="comment-62" class="wc-comment-right "><div class="wc-comment-header"><div class="wc-comment-author ">Trần Đại Ca</div><div class="wc-comment-link"><i class="fas fa-share-alt wc-share-link wpf-cta" aria-hidden="true" title="Share"></i><span class="share_buttons_box"><a class="wc_tw" target="_blank" href="https://twitter.com/intent/tweet?text=B%C3%A1c+%C6%A1i+cho+em+h%E1%BB%8Fi+t%C3%A1c+d%E1%BB%A5ng+c%E1%BB%A7a+con+tr%E1%BB%9F+R11+10k...+&amp;url=http%3A%2F%2Fthanhnt.com%2Fblog%2Fproject-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553%2F%23comment-62" title="" data-wpel-link="external" rel="nofollow external noopener noreferrer"><i class="fab fa-twitter wpf-cta" aria-hidden="true"></i><span>Share On Twitter</span></a><a class="wc_go" target="_blank" href="https://plus.google.com/share?url=http://thanhnt.com/blog/project-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553/" title="" data-wpel-link="internal"><i class="fab fa-google wpf-cta" aria-hidden="true"></i><span>Share On Google</span></a></span><span class="wc-comment-img-link-wrap"><i class="fas fa-link wc-comment-img-link wpf-cta" aria-hidden="true"></i><span><input type="text" class="wc-comment-link-input" value="http://thanhnt.com/blog/project-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553/#comment-62"></span></span></div><div class="wpdiscuz_clear"></div></div><div class="wc-comment-text"><p>Bác ơi cho em hỏi tác dụng của con trở R11 10k là gì thế ? ah còn con diode nối 2 đầu con fet để làm gì nữa :) thank bác</p></div><div class="wc-comment-footer"><div class="wc-footer-left"><span class="wc-vote-link wc-up  wc_vote wc_not_clicked"><i class="fas fa-plus wc-vote-img-up"></i><span>Vote Up</span></span><span class="wc-vote-result">0</span><span class="wc-vote-link wc-down  wc_vote wc_not_clicked"><i class="fas fa-minus wc-vote-img-down"></i><span>Vote Down</span></span>&nbsp;<span class="wc-reply-button wc-cta-button" title="Reply"><i class="fas fa-reply" aria-hidden="true"></i> Reply</span></div><div class="wc-footer-right"><div class="wc-comment-date"><i class="far fa-clock" aria-hidden="true"></i>3 years ago</div><div class="wc-toggle"><i class="fas fa-chevron-up" title="Hide Replies"></i></div></div><div class="wpdiscuz_clear"></div></div></div><div class="wpdiscuz-comment-message"></div><div id="wpdiscuz_form_anchor-62_0" style="clear:both"></div><div id="wc-comm-63_62" class="wc-comment wc-reply wc-blog-guest wc_comment_level-2"><div class="wc-comment-left "><div class="wpd-xborder"></div><img src="./Mạch đo nhiệt độ - điều khiển động cơ với MSP430G2553_files/1x1.trans.gif" data-lazy-src="http://thanhnt.com/blog/wp-content/uploads/2015/06/image-140x140.jpg" width="64" height="64" alt="Trung Thành" class="avatar avatar-64 wp-user-avatar wp-user-avatar-64 alignnone photo"><noscript>&lt;img src="http://thanhnt.com/blog/wp-content/uploads/2015/06/image-140x140.jpg" width="64" height="64" alt="Trung Thành" class="avatar avatar-64 wp-user-avatar wp-user-avatar-64 alignnone photo" /&gt;</noscript><div class="wc-blog-guest wc-comment-label"><span>Guest</span></div></div><div id="comment-63" class="wc-comment-right "><div class="wc-comment-header"><div class="wc-comment-author "><a rel="nofollow" href="http://thanhnt.com/" target="_blank" data-wpel-link="exclude">Nguyễn Trung Thành</a></div><div class="wc-comment-link"><i class="fas fa-share-alt wc-share-link wpf-cta" aria-hidden="true" title="Share"></i><span class="share_buttons_box"><a class="wc_tw" target="_blank" href="https://twitter.com/intent/tweet?text=Con+diod+n%E1%BB%91i+2+ch%C3%A2n+S+v%C3%A0+D+c%E1%BB%A7a+FET+%C4%91%E1%BB%83+ch%E1%BB%91ng+d%C3%B2...+&amp;url=http%3A%2F%2Fthanhnt.com%2Fblog%2Fproject-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553%2F%23comment-63" title="" data-wpel-link="external" rel="nofollow external noopener noreferrer"><i class="fab fa-twitter wpf-cta" aria-hidden="true"></i><span>Share On Twitter</span></a><a class="wc_go" target="_blank" href="https://plus.google.com/share?url=http://thanhnt.com/blog/project-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553/" title="" data-wpel-link="internal"><i class="fab fa-google wpf-cta" aria-hidden="true"></i><span>Share On Google</span></a></span><span class="wc-comment-img-link-wrap"><i class="fas fa-link wc-comment-img-link wpf-cta" aria-hidden="true"></i><span><input type="text" class="wc-comment-link-input" value="http://thanhnt.com/blog/project-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553/#comment-63"></span></span></div><div class="wpdiscuz_clear"></div></div><div class="wc-comment-text"><p>Con diod nối 2 chân S và D của FET để chống dòng ngược, bảo vệ FET. Còn R11 nối với R9 như vậy để phân áp chân điều khiển FET thôi.</p></div><div class="wc-comment-footer"><div class="wc-footer-left"><span class="wc-vote-link wc-up  wc_vote wc_not_clicked"><i class="fas fa-plus wc-vote-img-up"></i><span>Vote Up</span></span><span class="wc-vote-result">0</span><span class="wc-vote-link wc-down  wc_vote wc_not_clicked"><i class="fas fa-minus wc-vote-img-down"></i><span>Vote Down</span></span>&nbsp;<span class="wc-reply-button wc-cta-button" title="Reply"><i class="fas fa-reply" aria-hidden="true"></i> Reply</span></div><div class="wc-footer-right"><div class="wc-comment-date"><i class="far fa-clock" aria-hidden="true"></i>3 years ago</div><div class="wc-toggle"><i class="fas fa-chevron-up" title="Hide Replies"></i></div></div><div class="wpdiscuz_clear"></div></div></div><div class="wpdiscuz-comment-message"></div><div id="wpdiscuz_form_anchor-63_62" style="clear:both"></div><div id="wc-comm-64_63" class="wc-comment wc-reply wc-blog-guest wc_comment_level-3"><div class="wc-comment-left "><div class="wpd-xborder"></div><img src="./Mạch đo nhiệt độ - điều khiển động cơ với MSP430G2553_files/1x1.trans.gif" data-lazy-src="http://1.gravatar.com/avatar/a3152be5a542cb7d09ec8b97ac363954?s=64&amp;d=mm&amp;r=g" width="64" height="64" alt="Trần Đại Ca" class="avatar avatar-64 wp-user-avatar wp-user-avatar-64 photo avatar-default"><noscript>&lt;img src="http://1.gravatar.com/avatar/a3152be5a542cb7d09ec8b97ac363954?s=64&amp;#038;d=mm&amp;#038;r=g" width="64" height="64" alt="Trần Đại Ca" class="avatar avatar-64 wp-user-avatar wp-user-avatar-64 photo avatar-default" /&gt;</noscript><div class="wc-blog-guest wc-comment-label"><span>Guest</span></div></div><div id="comment-64" class="wc-comment-right "><div class="wc-comment-header"><div class="wc-comment-author ">Trần Đại Ca</div><div class="wc-comment-link"><i class="fas fa-share-alt wc-share-link wpf-cta" aria-hidden="true" title="Share"></i><span class="share_buttons_box"><a class="wc_tw" target="_blank" href="https://twitter.com/intent/tweet?text=Thank+b%C3%A1c+nhi%E1%BB%81u+a+%3A%29%0A...+&amp;url=http%3A%2F%2Fthanhnt.com%2Fblog%2Fproject-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553%2F%23comment-64" title="" data-wpel-link="external" rel="nofollow external noopener noreferrer"><i class="fab fa-twitter wpf-cta" aria-hidden="true"></i><span>Share On Twitter</span></a><a class="wc_go" target="_blank" href="https://plus.google.com/share?url=http://thanhnt.com/blog/project-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553/" title="" data-wpel-link="internal"><i class="fab fa-google wpf-cta" aria-hidden="true"></i><span>Share On Google</span></a></span><span class="wc-comment-img-link-wrap"><i class="fas fa-link wc-comment-img-link wpf-cta" aria-hidden="true"></i><span><input type="text" class="wc-comment-link-input" value="http://thanhnt.com/blog/project-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553/#comment-64"></span></span></div><div class="wpdiscuz_clear"></div></div><div class="wc-comment-text"><p>Thank bác nhiều a :)</p></div><div class="wc-comment-footer"><div class="wc-footer-left"><span class="wc-vote-link wc-up  wc_vote wc_not_clicked"><i class="fas fa-plus wc-vote-img-up"></i><span>Vote Up</span></span><span class="wc-vote-result">0</span><span class="wc-vote-link wc-down  wc_vote wc_not_clicked"><i class="fas fa-minus wc-vote-img-down"></i><span>Vote Down</span></span>&nbsp;<span class="wc-reply-button wc-cta-button" title="Reply"><i class="fas fa-reply" aria-hidden="true"></i> Reply</span></div><div class="wc-footer-right"><div class="wc-comment-date"><i class="far fa-clock" aria-hidden="true"></i>3 years ago</div><div class="wc-toggle"></div></div><div class="wpdiscuz_clear"></div></div></div><div class="wpdiscuz-comment-message"></div><div id="wpdiscuz_form_anchor-64_63" style="clear:both"></div></div></div></div><div id="wc-comm-71_0" class="wc-comment  wpdiscuz-root-comment  wc-blog-guest wc_comment_level-1"><div class="wc-comment-left "><div class="wpd-xborder"></div><img src="./Mạch đo nhiệt độ - điều khiển động cơ với MSP430G2553_files/1x1.trans.gif" data-lazy-src="http://0.gravatar.com/avatar/9ad694e79729c5ac24264957a0efd4a6?s=64&amp;d=mm&amp;r=g" width="64" height="64" alt="Sakura48" class="avatar avatar-64 wp-user-avatar wp-user-avatar-64 photo avatar-default"><noscript>&lt;img src="http://0.gravatar.com/avatar/9ad694e79729c5ac24264957a0efd4a6?s=64&amp;#038;d=mm&amp;#038;r=g" width="64" height="64" alt="Sakura48" class="avatar avatar-64 wp-user-avatar wp-user-avatar-64 photo avatar-default" /&gt;</noscript><div class="wc-blog-guest wc-comment-label"><span>Guest</span></div></div><div id="comment-71" class="wc-comment-right "><div class="wc-comment-header"><div class="wc-comment-author ">Sakura48</div><div class="wc-comment-link"><i class="fas fa-share-alt wc-share-link wpf-cta" aria-hidden="true" title="Share"></i><span class="share_buttons_box"><a class="wc_tw" target="_blank" href="https://twitter.com/intent/tweet?text=B%C3%A1c+%C6%A1i+b%C3%A1c+up+l%E1%BA%A1i+m%E1%BA%A5y+c%C3%A1i+h%C3%ACnh+%C4%91%C6%B0%E1%BB%A3c+kh%C3%B4ng%2C+m%C3%A1y...+&amp;url=http%3A%2F%2Fthanhnt.com%2Fblog%2Fproject-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553%2F%23comment-71" title="" data-wpel-link="external" rel="nofollow external noopener noreferrer"><i class="fab fa-twitter wpf-cta" aria-hidden="true"></i><span>Share On Twitter</span></a><a class="wc_go" target="_blank" href="https://plus.google.com/share?url=http://thanhnt.com/blog/project-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553/" title="" data-wpel-link="internal"><i class="fab fa-google wpf-cta" aria-hidden="true"></i><span>Share On Google</span></a></span><span class="wc-comment-img-link-wrap"><i class="fas fa-link wc-comment-img-link wpf-cta" aria-hidden="true"></i><span><input type="text" class="wc-comment-link-input" value="http://thanhnt.com/blog/project-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553/#comment-71"></span></span></div><div class="wpdiscuz_clear"></div></div><div class="wc-comment-text"><p>Bác ơi bác up lại mấy cái hình được không, máy em chẳng thấy gì cả :( thanks bác nhiều</p></div><div class="wc-comment-footer"><div class="wc-footer-left"><span class="wc-vote-link wc-up  wc_vote wc_not_clicked"><i class="fas fa-plus wc-vote-img-up"></i><span>Vote Up</span></span><span class="wc-vote-result">0</span><span class="wc-vote-link wc-down  wc_vote wc_not_clicked"><i class="fas fa-minus wc-vote-img-down"></i><span>Vote Down</span></span>&nbsp;<span class="wc-reply-button wc-cta-button" title="Reply"><i class="fas fa-reply" aria-hidden="true"></i> Reply</span></div><div class="wc-footer-right"><div class="wc-comment-date"><i class="far fa-clock" aria-hidden="true"></i>3 years ago</div><div class="wc-toggle"><i class="fas fa-chevron-up" title="Hide Replies"></i></div></div><div class="wpdiscuz_clear"></div></div></div><div class="wpdiscuz-comment-message"></div><div id="wpdiscuz_form_anchor-71_0" style="clear:both"></div><div id="wc-comm-72_71" class="wc-comment wc-reply wc-blog-guest wc_comment_level-2"><div class="wc-comment-left "><div class="wpd-xborder"></div><img src="./Mạch đo nhiệt độ - điều khiển động cơ với MSP430G2553_files/1x1.trans.gif" data-lazy-src="http://0.gravatar.com/avatar/65114f258004dbf7c8d5570ae4b1ecf0?s=64&amp;d=mm&amp;r=g" width="64" height="64" alt="T_O" class="avatar avatar-64 wp-user-avatar wp-user-avatar-64 photo avatar-default"><noscript>&lt;img src="http://0.gravatar.com/avatar/65114f258004dbf7c8d5570ae4b1ecf0?s=64&amp;#038;d=mm&amp;#038;r=g" width="64" height="64" alt="T_O" class="avatar avatar-64 wp-user-avatar wp-user-avatar-64 photo avatar-default" /&gt;</noscript><div class="wc-blog-guest wc-comment-label"><span>Guest</span></div></div><div id="comment-72" class="wc-comment-right "><div class="wc-comment-header"><div class="wc-comment-author ">T_O</div><div class="wc-comment-link"><i class="fas fa-share-alt wc-share-link wpf-cta" aria-hidden="true" title="Share"></i><span class="share_buttons_box"><a class="wc_tw" target="_blank" href="https://twitter.com/intent/tweet?text=D%E1%BA%A1o+n%C3%A0y+1+s%E1%BB%91+m%E1%BA%A1ng+vn+c%C3%B3+t%E1%BB%91c+%C4%91%E1%BB%99+truy+c%E1%BA%ADp+%C4%91%E1%BA%BFn+ho...+&amp;url=http%3A%2F%2Fthanhnt.com%2Fblog%2Fproject-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553%2F%23comment-72" title="" data-wpel-link="external" rel="nofollow external noopener noreferrer"><i class="fab fa-twitter wpf-cta" aria-hidden="true"></i><span>Share On Twitter</span></a><a class="wc_go" target="_blank" href="https://plus.google.com/share?url=http://thanhnt.com/blog/project-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553/" title="" data-wpel-link="internal"><i class="fab fa-google wpf-cta" aria-hidden="true"></i><span>Share On Google</span></a></span><span class="wc-comment-img-link-wrap"><i class="fas fa-link wc-comment-img-link wpf-cta" aria-hidden="true"></i><span><input type="text" class="wc-comment-link-input" value="http://thanhnt.com/blog/project-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553/#comment-72"></span></span></div><div class="wpdiscuz_clear"></div></div><div class="wc-comment-text"><p>Dạo này 1 số mạng vn có tốc độ truy cập đến host nước ngoài hơi kém nên đôi khi ảnh không hiện kịp. F5 1 cái, chờ 1 tí là ảnh hiện liền. :D không phải là hình bị hỏng đâu bạn.</p></div><div class="wc-comment-footer"><div class="wc-footer-left"><span class="wc-vote-link wc-up  wc_vote wc_not_clicked"><i class="fas fa-plus wc-vote-img-up"></i><span>Vote Up</span></span><span class="wc-vote-result">0</span><span class="wc-vote-link wc-down  wc_vote wc_not_clicked"><i class="fas fa-minus wc-vote-img-down"></i><span>Vote Down</span></span>&nbsp;<span class="wc-reply-button wc-cta-button" title="Reply"><i class="fas fa-reply" aria-hidden="true"></i> Reply</span></div><div class="wc-footer-right"><div class="wc-comment-date"><i class="far fa-clock" aria-hidden="true"></i>3 years ago</div><div class="wc-toggle"></div></div><div class="wpdiscuz_clear"></div></div></div><div class="wpdiscuz-comment-message"></div><div id="wpdiscuz_form_anchor-72_71" style="clear:both"></div></div></div><div id="wc-comm-200_0" class="wc-comment  wpdiscuz-root-comment  wc-blog-guest wc_comment_level-1"><div class="wc-comment-left "><div class="wpd-xborder"></div><img src="./Mạch đo nhiệt độ - điều khiển động cơ với MSP430G2553_files/1x1.trans.gif" data-lazy-src="http://2.gravatar.com/avatar/b57ce2d0579cd05d6a0b79ec39269a4e?s=64&amp;d=mm&amp;r=g" width="64" height="64" alt="le duc nhan" class="avatar avatar-64 wp-user-avatar wp-user-avatar-64 photo avatar-default"><noscript>&lt;img src="http://2.gravatar.com/avatar/b57ce2d0579cd05d6a0b79ec39269a4e?s=64&amp;#038;d=mm&amp;#038;r=g" width="64" height="64" alt="le duc nhan" class="avatar avatar-64 wp-user-avatar wp-user-avatar-64 photo avatar-default" /&gt;</noscript><div class="wc-blog-guest wc-comment-label"><span>Guest</span></div></div><div id="comment-200" class="wc-comment-right "><div class="wc-comment-header"><div class="wc-comment-author ">le duc nhan</div><div class="wc-comment-link"><i class="fas fa-share-alt wc-share-link wpf-cta" aria-hidden="true" title="Share"></i><span class="share_buttons_box"><a class="wc_tw" target="_blank" href="https://twitter.com/intent/tweet?text=ch%C3%A0o+b%E1%BA%A1n%2C+sao+l%E1%BB%97i+reset+%E1%BB%9F+tr%C3%AAn+m%C3%ACnh+%C4%91%C3%A3+s%E1%BB%ADa+gi...+&amp;url=http%3A%2F%2Fthanhnt.com%2Fblog%2Fproject-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553%2F%23comment-200" title="" data-wpel-link="external" rel="nofollow external noopener noreferrer"><i class="fab fa-twitter wpf-cta" aria-hidden="true"></i><span>Share On Twitter</span></a><a class="wc_go" target="_blank" href="https://plus.google.com/share?url=http://thanhnt.com/blog/project-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553/" title="" data-wpel-link="internal"><i class="fab fa-google wpf-cta" aria-hidden="true"></i><span>Share On Google</span></a></span><span class="wc-comment-img-link-wrap"><i class="fas fa-link wc-comment-img-link wpf-cta" aria-hidden="true"></i><span><input type="text" class="wc-comment-link-input" value="http://thanhnt.com/blog/project-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553/#comment-200"></span></span></div><div class="wpdiscuz_clear"></div></div><div class="wc-comment-text"><p>chào bạn, sao lỗi reset ở trên mình đã sửa giống như vậy rồi mà mạch vẫn ko chạy nhỉ, phải nhấn nút reset thì mới chạy</p></div><div class="wc-comment-footer"><div class="wc-footer-left"><span class="wc-vote-link wc-up  wc_vote wc_not_clicked"><i class="fas fa-plus wc-vote-img-up"></i><span>Vote Up</span></span><span class="wc-vote-result">0</span><span class="wc-vote-link wc-down  wc_vote wc_not_clicked"><i class="fas fa-minus wc-vote-img-down"></i><span>Vote Down</span></span>&nbsp;<span class="wc-reply-button wc-cta-button" title="Reply"><i class="fas fa-reply" aria-hidden="true"></i> Reply</span></div><div class="wc-footer-right"><div class="wc-comment-date"><i class="far fa-clock" aria-hidden="true"></i>2 years ago</div><div class="wc-toggle"><i class="fas fa-chevron-up" title="Hide Replies"></i></div></div><div class="wpdiscuz_clear"></div></div></div><div class="wpdiscuz-comment-message"></div><div id="wpdiscuz_form_anchor-200_0" style="clear:both"></div><div id="wc-comm-201_200" class="wc-comment wc-reply wc-blog-guest wc_comment_level-2"><div class="wc-comment-left "><div class="wpd-xborder"></div><img src="./Mạch đo nhiệt độ - điều khiển động cơ với MSP430G2553_files/1x1.trans.gif" data-lazy-src="http://thanhnt.com/blog/wp-content/uploads/2015/06/image-140x140.jpg" width="64" height="64" alt="Trung Thành" class="avatar avatar-64 wp-user-avatar wp-user-avatar-64 alignnone photo"><noscript>&lt;img src="http://thanhnt.com/blog/wp-content/uploads/2015/06/image-140x140.jpg" width="64" height="64" alt="Trung Thành" class="avatar avatar-64 wp-user-avatar wp-user-avatar-64 alignnone photo" /&gt;</noscript><div class="wc-blog-guest wc-comment-label"><span>Guest</span></div></div><div id="comment-201" class="wc-comment-right "><div class="wc-comment-header"><div class="wc-comment-author "><a rel="nofollow" href="http://thanhnt.com/" target="_blank" data-wpel-link="exclude">Nguyễn Trung Thành</a></div><div class="wc-comment-link"><i class="fas fa-share-alt wc-share-link wpf-cta" aria-hidden="true" title="Share"></i><span class="share_buttons_box"><a class="wc_tw" target="_blank" href="https://twitter.com/intent/tweet?text=Ch%C3%A0o+b%E1%BA%A1n%2C+l%C3%A1t+m%C3%ACnh+s%E1%BA%BD+c%E1%BA%ADp+nh%E1%BA%ADt+l%E1%BA%A1i+c%C3%A1i+SCH+ch...+&amp;url=http%3A%2F%2Fthanhnt.com%2Fblog%2Fproject-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553%2F%23comment-201" title="" data-wpel-link="external" rel="nofollow external noopener noreferrer"><i class="fab fa-twitter wpf-cta" aria-hidden="true"></i><span>Share On Twitter</span></a><a class="wc_go" target="_blank" href="https://plus.google.com/share?url=http://thanhnt.com/blog/project-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553/" title="" data-wpel-link="internal"><i class="fab fa-google wpf-cta" aria-hidden="true"></i><span>Share On Google</span></a></span><span class="wc-comment-img-link-wrap"><i class="fas fa-link wc-comment-img-link wpf-cta" aria-hidden="true"></i><span><input type="text" class="wc-comment-link-input" value="http://thanhnt.com/blog/project-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553/#comment-201"></span></span></div><div class="wpdiscuz_clear"></div></div><div class="wc-comment-text"><p>Chào bạn, lát mình sẽ cập nhật lại cái SCH cho dễ hiểu. riêng chân reset cần đúng tụ 102 gốm (loại ko phân cực nhé bạn). và 1 trở treo là đc.</p></div><div class="wc-comment-footer"><div class="wc-footer-left"><span class="wc-vote-link wc-up  wc_vote wc_not_clicked"><i class="fas fa-plus wc-vote-img-up"></i><span>Vote Up</span></span><span class="wc-vote-result">0</span><span class="wc-vote-link wc-down  wc_vote wc_not_clicked"><i class="fas fa-minus wc-vote-img-down"></i><span>Vote Down</span></span>&nbsp;<span class="wc-reply-button wc-cta-button" title="Reply"><i class="fas fa-reply" aria-hidden="true"></i> Reply</span></div><div class="wc-footer-right"><div class="wc-comment-date"><i class="far fa-clock" aria-hidden="true"></i>2 years ago</div><div class="wc-toggle"><i class="fas fa-chevron-up" title="Hide Replies"></i></div></div><div class="wpdiscuz_clear"></div></div></div><div class="wpdiscuz-comment-message"></div><div id="wpdiscuz_form_anchor-201_200" style="clear:both"></div><div id="wc-comm-204_201" class="wc-comment wc-reply wc-blog-guest wc_comment_level-3"><div class="wc-comment-left "><div class="wpd-xborder"></div><img src="./Mạch đo nhiệt độ - điều khiển động cơ với MSP430G2553_files/1x1.trans.gif" data-lazy-src="http://2.gravatar.com/avatar/b57ce2d0579cd05d6a0b79ec39269a4e?s=64&amp;d=mm&amp;r=g" width="64" height="64" alt="le duc nhan" class="avatar avatar-64 wp-user-avatar wp-user-avatar-64 photo avatar-default"><noscript>&lt;img src="http://2.gravatar.com/avatar/b57ce2d0579cd05d6a0b79ec39269a4e?s=64&amp;#038;d=mm&amp;#038;r=g" width="64" height="64" alt="le duc nhan" class="avatar avatar-64 wp-user-avatar wp-user-avatar-64 photo avatar-default" /&gt;</noscript><div class="wc-blog-guest wc-comment-label"><span>Guest</span></div></div><div id="comment-204" class="wc-comment-right "><div class="wc-comment-header"><div class="wc-comment-author ">le duc nhan</div><div class="wc-comment-link"><i class="fas fa-share-alt wc-share-link wpf-cta" aria-hidden="true" title="Share"></i><span class="share_buttons_box"><a class="wc_tw" target="_blank" href="https://twitter.com/intent/tweet?text=c%C3%B3+ph%E1%BA%A3i+l%C3%A0+do+code+kh%C3%B4ng+b%E1%BA%A1n+nh%E1%BB%89%2C+m%C3%ACnh+%C4%91%C3%A3+l%C3%A0m...+&amp;url=http%3A%2F%2Fthanhnt.com%2Fblog%2Fproject-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553%2F%23comment-204" title="" data-wpel-link="external" rel="nofollow external noopener noreferrer"><i class="fab fa-twitter wpf-cta" aria-hidden="true"></i><span>Share On Twitter</span></a><a class="wc_go" target="_blank" href="https://plus.google.com/share?url=http://thanhnt.com/blog/project-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553/" title="" data-wpel-link="internal"><i class="fab fa-google wpf-cta" aria-hidden="true"></i><span>Share On Google</span></a></span><span class="wc-comment-img-link-wrap"><i class="fas fa-link wc-comment-img-link wpf-cta" aria-hidden="true"></i><span><input type="text" class="wc-comment-link-input" value="http://thanhnt.com/blog/project-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553/#comment-204"></span></span></div><div class="wpdiscuz_clear"></div></div><div class="wc-comment-text"><p>có phải là do code không bạn nhỉ, mình đã làm y như vậy nhưng vẫn không được</p></div><div class="wc-comment-footer"><div class="wc-footer-left"><span class="wc-vote-link wc-up  wc_vote wc_not_clicked"><i class="fas fa-plus wc-vote-img-up"></i><span>Vote Up</span></span><span class="wc-vote-result">0</span><span class="wc-vote-link wc-down  wc_vote wc_not_clicked"><i class="fas fa-minus wc-vote-img-down"></i><span>Vote Down</span></span>&nbsp;<span class="wc-reply-button wc-cta-button" title="Reply"><i class="fas fa-reply" aria-hidden="true"></i> Reply</span></div><div class="wc-footer-right"><div class="wc-comment-date"><i class="far fa-clock" aria-hidden="true"></i>2 years ago</div><div class="wc-toggle"><i class="fas fa-chevron-up" title="Hide Replies"></i></div></div><div class="wpdiscuz_clear"></div></div></div><div class="wpdiscuz-comment-message"></div><div id="wpdiscuz_form_anchor-204_201" style="clear:both"></div><div id="wc-comm-205_204" class="wc-comment wc-reply wc-blog-guest wc_comment_level-4"><div class="wc-comment-left "><div class="wpd-xborder"></div><img src="./Mạch đo nhiệt độ - điều khiển động cơ với MSP430G2553_files/1x1.trans.gif" data-lazy-src="http://thanhnt.com/blog/wp-content/uploads/2015/06/image-140x140.jpg" width="64" height="64" alt="Trung Thành" class="avatar avatar-64 wp-user-avatar wp-user-avatar-64 alignnone photo"><noscript>&lt;img src="http://thanhnt.com/blog/wp-content/uploads/2015/06/image-140x140.jpg" width="64" height="64" alt="Trung Thành" class="avatar avatar-64 wp-user-avatar wp-user-avatar-64 alignnone photo" /&gt;</noscript><div class="wc-blog-guest wc-comment-label"><span>Guest</span></div></div><div id="comment-205" class="wc-comment-right "><div class="wc-comment-header"><div class="wc-comment-author "><a rel="nofollow" href="http://thanhnt.com/" target="_blank" data-wpel-link="exclude">Nguyễn Trung Thành</a></div><div class="wc-comment-link"><i class="fas fa-share-alt wc-share-link wpf-cta" aria-hidden="true" title="Share"></i><span class="share_buttons_box"><a class="wc_tw" target="_blank" href="https://twitter.com/intent/tweet?text=B%E1%BA%A1n+th%E1%BB%AD+code+tr%C3%AAn+LaunchPad+ch%C6%B0a%3F%0A...+&amp;url=http%3A%2F%2Fthanhnt.com%2Fblog%2Fproject-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553%2F%23comment-205" title="" data-wpel-link="external" rel="nofollow external noopener noreferrer"><i class="fab fa-twitter wpf-cta" aria-hidden="true"></i><span>Share On Twitter</span></a><a class="wc_go" target="_blank" href="https://plus.google.com/share?url=http://thanhnt.com/blog/project-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553/" title="" data-wpel-link="internal"><i class="fab fa-google wpf-cta" aria-hidden="true"></i><span>Share On Google</span></a></span><span class="wc-comment-img-link-wrap"><i class="fas fa-link wc-comment-img-link wpf-cta" aria-hidden="true"></i><span><input type="text" class="wc-comment-link-input" value="http://thanhnt.com/blog/project-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553/#comment-205"></span></span></div><div class="wpdiscuz_clear"></div></div><div class="wc-comment-text"><p>Bạn thử code trên LaunchPad chưa?</p></div><div class="wc-comment-footer"><div class="wc-footer-left"><span class="wc-vote-link wc-up  wc_vote wc_not_clicked"><i class="fas fa-plus wc-vote-img-up"></i><span>Vote Up</span></span><span class="wc-vote-result">0</span><span class="wc-vote-link wc-down  wc_vote wc_not_clicked"><i class="fas fa-minus wc-vote-img-down"></i><span>Vote Down</span></span>&nbsp;<span class="wc-reply-button wc-cta-button" title="Reply"><i class="fas fa-reply" aria-hidden="true"></i> Reply</span></div><div class="wc-footer-right"><div class="wc-comment-date"><i class="far fa-clock" aria-hidden="true"></i>2 years ago</div><div class="wc-toggle"><i class="fas fa-chevron-up" title="Hide Replies"></i></div></div><div class="wpdiscuz_clear"></div></div></div><div class="wpdiscuz-comment-message"></div><div id="wpdiscuz_form_anchor-205_204" style="clear:both"></div><div id="wc-comm-207_205" class="wc-comment wc-reply wc-blog-guest wc_comment_level-5"><div class="wc-comment-left "><div class="wpd-xborder"></div><img src="./Mạch đo nhiệt độ - điều khiển động cơ với MSP430G2553_files/1x1.trans.gif" data-lazy-src="http://2.gravatar.com/avatar/b57ce2d0579cd05d6a0b79ec39269a4e?s=64&amp;d=mm&amp;r=g" width="64" height="64" alt="le duc nhan" class="avatar avatar-64 wp-user-avatar wp-user-avatar-64 photo avatar-default"><noscript>&lt;img src="http://2.gravatar.com/avatar/b57ce2d0579cd05d6a0b79ec39269a4e?s=64&amp;#038;d=mm&amp;#038;r=g" width="64" height="64" alt="le duc nhan" class="avatar avatar-64 wp-user-avatar wp-user-avatar-64 photo avatar-default" /&gt;</noscript><div class="wc-blog-guest wc-comment-label"><span>Guest</span></div></div><div id="comment-207" class="wc-comment-right "><div class="wc-comment-header"><div class="wc-comment-author ">le duc nhan</div><div class="wc-comment-link"><i class="fas fa-share-alt wc-share-link wpf-cta" aria-hidden="true" title="Share"></i><span class="share_buttons_box"><a class="wc_tw" target="_blank" href="https://twitter.com/intent/tweet?text=m%C3%ACnh+th%E1%BB%AD+tr%C3%AAn+launhpad+v%E1%BA%ABn+ph%E1%BA%A3i+b%E1%BA%A5m+reset+b%E1%BA%A1n...+&amp;url=http%3A%2F%2Fthanhnt.com%2Fblog%2Fproject-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553%2F%23comment-207" title="" data-wpel-link="external" rel="nofollow external noopener noreferrer"><i class="fab fa-twitter wpf-cta" aria-hidden="true"></i><span>Share On Twitter</span></a><a class="wc_go" target="_blank" href="https://plus.google.com/share?url=http://thanhnt.com/blog/project-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553/" title="" data-wpel-link="internal"><i class="fab fa-google wpf-cta" aria-hidden="true"></i><span>Share On Google</span></a></span><span class="wc-comment-img-link-wrap"><i class="fas fa-link wc-comment-img-link wpf-cta" aria-hidden="true"></i><span><input type="text" class="wc-comment-link-input" value="http://thanhnt.com/blog/project-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553/#comment-207"></span></span></div><div class="wpdiscuz_clear"></div></div><div class="wc-comment-text"><p>mình thử trên launhpad vẫn phải bấm reset bạn</p><p>Vào 07:52 Ngày 30 tháng 10 năm 2015, Disqus  đã viết:</p></div><div class="wc-comment-footer"><div class="wc-footer-left"><span class="wc-vote-link wc-up  wc_vote wc_not_clicked"><i class="fas fa-plus wc-vote-img-up"></i><span>Vote Up</span></span><span class="wc-vote-result">0</span><span class="wc-vote-link wc-down  wc_vote wc_not_clicked"><i class="fas fa-minus wc-vote-img-down"></i><span>Vote Down</span></span>&nbsp;<span class="wc-reply-button wc-cta-button" title="Reply"><i class="fas fa-reply" aria-hidden="true"></i> Reply</span></div><div class="wc-footer-right"><div class="wc-comment-date"><i class="far fa-clock" aria-hidden="true"></i>2 years ago</div></div><div class="wpdiscuz_clear"></div></div></div><div class="wpdiscuz-comment-message"></div><div id="wpdiscuz_form_anchor-207_205" style="clear:both"></div></div></div></div></div></div><div id="wc-comm-307_0" class="wc-comment wc-blog-guest wc_comment_level-1"><div class="wc-comment-left "><div class="wpd-xborder"></div><img src="./Mạch đo nhiệt độ - điều khiển động cơ với MSP430G2553_files/1x1.trans.gif" data-lazy-src="http://0.gravatar.com/avatar/c8efc50dfc1fbd7b61d5d67100c88e2f?s=64&amp;d=mm&amp;r=g" width="64" height="64" alt="Hoàng" class="avatar avatar-64 wp-user-avatar wp-user-avatar-64 photo avatar-default"><noscript>&lt;img src="http://0.gravatar.com/avatar/c8efc50dfc1fbd7b61d5d67100c88e2f?s=64&amp;#038;d=mm&amp;#038;r=g" width="64" height="64" alt="Hoàng" class="avatar avatar-64 wp-user-avatar wp-user-avatar-64 photo avatar-default" /&gt;</noscript><div class="wc-blog-guest wc-comment-label"><span>Guest</span></div></div><div id="comment-307" class="wc-comment-right "><div class="wc-comment-header"><div class="wc-comment-author "><a rel="nofollow external noopener noreferrer" href="http://hoanguc05@gmail.com/" target="_blank" data-wpel-link="external">Hoàng</a></div><div class="wc-comment-link"><i class="fas fa-share-alt wc-share-link wpf-cta" aria-hidden="true" title="Share"></i><span class="share_buttons_box"><a class="wc_tw" target="_blank" href="https://twitter.com/intent/tweet?text=r%E1%BA%A5t+c%C3%B3+%C3%ADch+anh+%C6%A1i%2C+c%E1%BA%A3m+%C6%A1n+anh%0A...+&amp;url=http%3A%2F%2Fthanhnt.com%2Fblog%2Fproject-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553%2F%23comment-307" title="" data-wpel-link="external" rel="nofollow external noopener noreferrer"><i class="fab fa-twitter wpf-cta" aria-hidden="true"></i><span>Share On Twitter</span></a><a class="wc_go" target="_blank" href="https://plus.google.com/share?url=http://thanhnt.com/blog/project-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553/" title="" data-wpel-link="internal"><i class="fab fa-google wpf-cta" aria-hidden="true"></i><span>Share On Google</span></a></span><span class="wc-comment-img-link-wrap"><i class="fas fa-link wc-comment-img-link wpf-cta" aria-hidden="true"></i><span><input type="text" class="wc-comment-link-input" value="http://thanhnt.com/blog/project-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553/#comment-307"></span></span></div><div class="wpdiscuz_clear"></div></div><div class="wc-comment-text"><p>rất có ích anh ơi, cảm ơn anh</p></div><div class="wc-comment-footer"><div class="wc-footer-left"><span class="wc-vote-link wc-up  wc_vote wc_not_clicked"><i class="fas fa-plus wc-vote-img-up"></i><span>Vote Up</span></span><span class="wc-vote-result">0</span><span class="wc-vote-link wc-down  wc_vote wc_not_clicked"><i class="fas fa-minus wc-vote-img-down"></i><span>Vote Down</span></span>&nbsp;<span class="wc-reply-button wc-cta-button" title="Reply"><i class="fas fa-reply" aria-hidden="true"></i> Reply</span></div><div class="wc-footer-right"><div class="wc-comment-date"><i class="far fa-clock" aria-hidden="true"></i>1 year ago</div><div class="wc-toggle"></div></div><div class="wpdiscuz_clear"></div></div></div><div class="wpdiscuz-comment-message"></div><div id="wpdiscuz_form_anchor-307_0" style="clear:both"></div></div><div id="wc-comm-442_0" class="wc-comment  wpdiscuz-root-comment  wc-blog-guest wc_comment_level-1"><div class="wc-comment-left "><div class="wpd-xborder"></div><img src="./Mạch đo nhiệt độ - điều khiển động cơ với MSP430G2553_files/1x1.trans.gif" data-lazy-src="http://0.gravatar.com/avatar/960754f016241af4bd9c848ee1d309bf?s=64&amp;d=mm&amp;r=g" width="64" height="64" alt="Văn Sơn Trần" class="avatar avatar-64 wp-user-avatar wp-user-avatar-64 photo avatar-default"><noscript>&lt;img src="http://0.gravatar.com/avatar/960754f016241af4bd9c848ee1d309bf?s=64&amp;#038;d=mm&amp;#038;r=g" width="64" height="64" alt="Văn Sơn Trần" class="avatar avatar-64 wp-user-avatar wp-user-avatar-64 photo avatar-default" /&gt;</noscript><div class="wc-blog-guest wc-comment-label"><span>Guest</span></div></div><div id="comment-442" class="wc-comment-right "><div class="wc-comment-header"><div class="wc-comment-author ">Văn Sơn Trần</div><div class="wc-comment-link"><i class="fas fa-share-alt wc-share-link wpf-cta" aria-hidden="true" title="Share"></i><span class="share_buttons_box"><a class="wc_tw" target="_blank" href="https://twitter.com/intent/tweet?text=Cho+m%C3%ACnh+h%E1%BB%8Fi+%C3%BD+ngh%C4%A9a+c%E1%BB%A7a+%C4%91o%E1%BA%A1n+code+n%C3%A0y+nh%C3%A9%26%238...+&amp;url=http%3A%2F%2Fthanhnt.com%2Fblog%2Fproject-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553%2F%23comment-442" title="" data-wpel-link="external" rel="nofollow external noopener noreferrer"><i class="fab fa-twitter wpf-cta" aria-hidden="true"></i><span>Share On Twitter</span></a><a class="wc_go" target="_blank" href="https://plus.google.com/share?url=http://thanhnt.com/blog/project-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553/" title="" data-wpel-link="internal"><i class="fab fa-google wpf-cta" aria-hidden="true"></i><span>Share On Google</span></a></span><span class="wc-comment-img-link-wrap"><i class="fas fa-link wc-comment-img-link wpf-cta" aria-hidden="true"></i><span><input type="text" class="wc-comment-link-input" value="http://thanhnt.com/blog/project-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553/#comment-442"></span></span></div><div class="wpdiscuz_clear"></div></div><div class="wc-comment-text"><p>Cho mình hỏi ý nghĩa của đoạn code này nhé…<br> #define PWM_OUT BIT6 //P1.6 PWM<br> #define BUTTON_OPTION 	BIT0 //P2.0<br> #define BUTTON_INCREASE 	BIT1 //P2.1<br> #define BUTTON_DECREASE 	BIT2 //P2.2<br> #define BUTTON_P_DIR 	P2DIR<br> #define BUTTON_P_OUT 	P2OUT<br> #define BUTTON_P_REN 	P2REN<br> #define BUTTON_P_IES 	P2IES<br> #define BUTTON_P_IFG 	P2IFG<br> #define BUTTON_P_IE 	P2IE</p></div><div class="wc-comment-footer"><div class="wc-footer-left"><span class="wc-vote-link wc-up  wc_vote wc_not_clicked"><i class="fas fa-plus wc-vote-img-up"></i><span>Vote Up</span></span><span class="wc-vote-result">0</span><span class="wc-vote-link wc-down  wc_vote wc_not_clicked"><i class="fas fa-minus wc-vote-img-down"></i><span>Vote Down</span></span>&nbsp;<span class="wc-reply-button wc-cta-button" title="Reply"><i class="fas fa-reply" aria-hidden="true"></i> Reply</span></div><div class="wc-footer-right"><div class="wc-comment-date"><i class="far fa-clock" aria-hidden="true"></i>11 months ago</div><div class="wc-toggle"><i class="fas fa-chevron-up" title="Hide Replies"></i></div></div><div class="wpdiscuz_clear"></div></div></div><div class="wpdiscuz-comment-message"></div><div id="wpdiscuz_form_anchor-442_0" style="clear:both"></div><div id="wc-comm-443_442" class="wc-comment wc-reply wc-blog-user wc-blog-post_author wc_comment_level-2"><div class="wc-comment-left "><div class="wpd-xborder"></div><a href="http://thanhnt.com/blog/author/trungthanh/" target="_blank" data-wpel-link="internal"><img src="./Mạch đo nhiệt độ - điều khiển động cơ với MSP430G2553_files/1x1.trans.gif" data-lazy-src="http://thanhnt.com/blog/wp-content/uploads/2015/06/image-140x140.jpg" width="64" height="64" alt="Trung Thành" class="avatar avatar-64 wp-user-avatar wp-user-avatar-64 alignnone photo"><noscript>&lt;img src="http://thanhnt.com/blog/wp-content/uploads/2015/06/image-140x140.jpg" width="64" height="64" alt="Trung Thành" class="avatar avatar-64 wp-user-avatar wp-user-avatar-64 alignnone photo" /&gt;</noscript></a><div class="wc-blog-user wc-blog-post_author wc-comment-label"><span>Author</span></div></div><div id="comment-443" class="wc-comment-right "><div class="wc-comment-header"><div class="wc-comment-author "><a rel="nofollow" href="http://thanhnt.com/" target="_blank" data-wpel-link="exclude">Trung Thành</a></div><div class="wc-comment-link"><i class="fas fa-share-alt wc-share-link wpf-cta" aria-hidden="true" title="Share"></i><span class="share_buttons_box"><a class="wc_tw" target="_blank" href="https://twitter.com/intent/tweet?text=Ch%C3%A0o+b%E1%BA%A1n%2C+%C4%90o%E1%BA%A1n+code+tr%C3%AAn+l%C3%A0+%C4%91o%E1%BA%A1n+ti%E1%BB%81n+x%E1%BB%AD+l%C3%BD%2C+...+&amp;url=http%3A%2F%2Fthanhnt.com%2Fblog%2Fproject-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553%2F%23comment-443" title="" data-wpel-link="external" rel="nofollow external noopener noreferrer"><i class="fab fa-twitter wpf-cta" aria-hidden="true"></i><span>Share On Twitter</span></a><a class="wc_go" target="_blank" href="https://plus.google.com/share?url=http://thanhnt.com/blog/project-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553/" title="" data-wpel-link="internal"><i class="fab fa-google wpf-cta" aria-hidden="true"></i><span>Share On Google</span></a></span><span class="wc-comment-img-link-wrap"><i class="fas fa-link wc-comment-img-link wpf-cta" aria-hidden="true"></i><span><input type="text" class="wc-comment-link-input" value="http://thanhnt.com/blog/project-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553/#comment-443"></span></span></div><div class="wpdiscuz_clear"></div></div><div class="wc-comment-text">Chào bạn, Đoạn code trên là đoạn tiền xử lý, để gán cho dễ dùng thôi chứ không có gì cả. Bạn có thể tham khảo thêm ở đây (https://www.tutorialspoint.com/cprogramming/c_preprocessors.htm) Về cơ bản, bạn sử dụng BUTTON_P_REN cũng giống như sử dụng P2REN thôi. Trong code có thể có nhiều chỗ bạn sử dụng bạn cần dùng P2REN, đến khi bạn muốn chuyển sang dùng ở cụm chân khác như P3 chẳng hạn -&gt; bạn phải tìm kiếm và thay thế toàn bộ chỗ nào có P2REN liên quan để thay thành P3REN. Còn sau khi khai báo như trên<span id="wpdiscuz-readmore-443_442"><span class="wpdiscuz-hellip">…&nbsp;</span><span class="wpdiscuz-readmore" title="Read more »">Read more »</span></span></div><div class="wc-comment-footer"><div class="wc-footer-left"><span class="wc-vote-link wc-up  wc_vote wc_not_clicked"><i class="fas fa-plus wc-vote-img-up"></i><span>Vote Up</span></span><span class="wc-vote-result">0</span><span class="wc-vote-link wc-down  wc_vote wc_not_clicked"><i class="fas fa-minus wc-vote-img-down"></i><span>Vote Down</span></span>&nbsp;<span class="wc-reply-button wc-cta-button" title="Reply"><i class="fas fa-reply" aria-hidden="true"></i> Reply</span></div><div class="wc-footer-right"><div class="wc-comment-date"><i class="far fa-clock" aria-hidden="true"></i>11 months ago</div><div class="wc-toggle"></div></div><div class="wpdiscuz_clear"></div></div></div><div class="wpdiscuz-comment-message"></div><div id="wpdiscuz_form_anchor-443_442" style="clear:both"></div></div></div><div class="wpdiscuz-comment-pagination"></div></div><div class="wpdiscuz_clear"></div></div></div><div id="wpdiscuz-loading-bar" class="wpdiscuz-loading-bar wpdiscuz-loading-bar-unauth"></div></div></article><aside id="sidebar" class="sidebar c-4-12 mts-sidebar-sidebar" role="complementary" itemscope="" itemtype="http://schema.org/WPSideBar"><div id="search-3" class="widget widget_search"><form method="get" id="searchform" class="search-form ajax-search" action="http://thanhnt.com/blog" _lpchecked="1"><fieldset> <input type="text" name="s" id="s" value="" placeholder="Search the site" autocomplete="off"> <button id="search-image" class="sbutton" type="submit" value="Search">Search</button></fieldset><div class="ajax-search-results-container" style="display: none;"></div></form></div><div id="mts_popular_posts_widget-2" class="widget widget_mts_popular_posts_widget horizontal-small"><h3 class="widget-title">BÀI MỚI</h3><ul class="popular-posts"></ul></div><div id="mts_related_posts_widget-2" class="widget widget_mts_related_posts_widget horizontal-small"><h3 class="widget-title">BÀI LIÊN QUAN</h3><ul class="related-posts-widget"><li class="post-box horizontal-small horizontal-container no-thumb"><div class="horizontal-container-inner"><div class="post-data"><div class="post-data-container"><div class="post-title"> <a href="http://thanhnt.com/blog/project-bo-hoc-lenh-dieu-khien-rf-315mhz-4-kenh-voi-msp430/" title="[Project] Bộ học lệnh điều khiển RF 315MHz 4 kênh với MSP430" data-wpel-link="internal">[Project] Bộ học lệnh điều khiển RF&nbsp;…</a></div><div class="post-info"> <span class="thetime updated">November 29, 2014</span> <span class="thecomment">8 <span class="comm">Comments</span></span></div></div></div></div></li><li class="post-box horizontal-small horizontal-container no-thumb"><div class="horizontal-container-inner"><div class="post-data"><div class="post-data-container"><div class="post-title"> <a href="http://thanhnt.com/blog/project-diy-mach-bao-ve-cell-pin-lithium-ion/" title="[Project] DIY mạch bảo vệ cell pin Lithium-Ion" data-wpel-link="internal">[Project] DIY mạch bảo vệ cell pin&nbsp;…</a></div><div class="post-info"> <span class="thetime updated">May 28, 2016</span> <span class="thecomment">9 <span class="comm">Comments</span></span></div></div></div></div></li><li class="post-box horizontal-small horizontal-container no-thumb"><div class="horizontal-container-inner"><div class="post-data"><div class="post-data-container"><div class="post-title"> <a href="http://thanhnt.com/blog/diy-mach-nguon-xung-ha-ap-dung-lm2576/" title="[DIY] Mạch nguồn xung hạ áp dùng LM2576" data-wpel-link="internal">[DIY] Mạch nguồn xung hạ áp dùng&nbsp;…</a></div><div class="post-info"> <span class="thetime updated">March 15, 2015</span> <span class="thecomment">32 <span class="comm">Comments</span></span></div></div></div></div></li><li class="post-box horizontal-small horizontal-container no-thumb"><div class="horizontal-container-inner"><div class="post-data"><div class="post-data-container"><div class="post-title"> <a href="http://thanhnt.com/blog/diy-usb-chuyen-doi-usb-uart-dung-ch340g/" title="[DIY] USB chuyển đổi USB-UART dùng CH340G" data-wpel-link="internal">[DIY] USB chuyển đổi USB-UART dùng CH340G</a></div><div class="post-info"> <span class="thetime updated">November 22, 2015</span> <span class="thecomment">3 <span class="comm">Comments</span></span></div></div></div></div></li><li class="post-box horizontal-small horizontal-container no-thumb"><div class="horizontal-container-inner"><div class="post-data"><div class="post-data-container"><div class="post-title"> <a href="http://thanhnt.com/blog/diy-mach-nap-jlink-arm-ob-v7/" title="[DIY] Mạch nạp JLink ARM-OB v7" data-wpel-link="internal">[DIY] Mạch nạp JLink ARM-OB v7</a></div><div class="post-info"> <span class="thetime updated">July 2, 2017</span> <span class="thecomment"><span class="comm">No Comments</span></span></div></div></div></div></li><li class="post-box horizontal-small horizontal-container no-thumb"><div class="horizontal-container-inner"><div class="post-data"><div class="post-data-container"><div class="post-title"> <a href="http://thanhnt.com/blog/project-cam-bien-khong-day-don-gian-voi-msp430-va-nrf24l01/" title="[Project] Cảm biến không dây đơn giản với MSP430 và nRF24L01" data-wpel-link="internal">[Project] Cảm biến không dây đơn giản&nbsp;…</a></div><div class="post-info"> <span class="thetime updated">September 5, 2014</span> <span class="thecomment">16 <span class="comm">Comments</span></span></div></div></div></div></li></ul></div><div id="text-4" class="widget widget_text"><h3 class="widget-title">BẠN BÈ</h3><div class="textwidget"><a href="http://dungnt.net/" rel="friend nofollow external noopener noreferrer" target="_blank" data-wpel-link="external">Nhým Xù's Blog</a></div></div></aside></div><footer id="site-footer" role="contentinfo" itemscope="" itemtype="http://schema.org/WPFooter"><div class="copyrights"><div class="container"><div class="row" id="copyright-note"> <span><a href="http://thanhnt.com/blog/" title="Computer, Networking, Embedded Systems, PCB Design" rel="nofollow" data-wpel-link="internal">ThanhNT's Blog</a> Copyright © 2018.</span><div class="top"></div><div class="top"></div></div></div></div></footer></div>  <script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
 ga('create', 'UA-49012924-1', 'auto');
  ga('send', 'pageview');</script> <script async="" src="./Mạch đo nhiệt độ - điều khiển động cơ với MSP430G2553_files/analytics.js.download"></script>      <script type="text/javascript">window.WPCOM_sharing_counts = {"http:\/\/thanhnt.com\/blog\/project-mach-nhiet-dieu-khien-dong-co-voi-msp430g2553\/":207};</script> <link rel="stylesheet" id="font-awesome-css" href="./Mạch đo nhiệt độ - điều khiển động cơ với MSP430G2553_files/font-awesome.min.css" type="text/css" media="all"> <script type="text/javascript" src="./Mạch đo nhiệt độ - điều khiển động cơ với MSP430G2553_files/jquery.form.min.js.download"></script> <script type="text/javascript" src="./Mạch đo nhiệt độ - điều khiển động cơ với MSP430G2553_files/comment-reply.min.js.download"></script> <script type="text/javascript" src="./Mạch đo nhiệt độ - điều khiển động cơ với MSP430G2553_files/jquery.sonar.min.js.download"></script> <script type="text/javascript" src="./Mạch đo nhiệt độ - điều khiển động cơ với MSP430G2553_files/lazy-load.js.download"></script> <script type="text/javascript" src="./Mạch đo nhiệt độ - điều khiển động cơ với MSP430G2553_files/wp-embed.min.js.download"></script> <script type="text/javascript">var sharing_js_options = {"lang":"en","counts":"1"};</script> <script type="text/javascript" src="./Mạch đo nhiệt độ - điều khiển động cơ với MSP430G2553_files/sharing.min.js.download"></script> <script type="text/javascript">var windowOpen;
			jQuery( document.body ).on( 'click', 'a.share-twitter', function() {
				// If there's another sharing window open, close it.
				if ( 'undefined' !== typeof windowOpen ) {
					windowOpen.close();
				}
				windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcomtwitter', 'menubar=1,resizable=1,width=600,height=350' );
				return false;
			});
var windowOpen;
			jQuery( document.body ).on( 'click', 'a.share-facebook', function() {
				// If there's another sharing window open, close it.
				if ( 'undefined' !== typeof windowOpen ) {
					windowOpen.close();
				}
				windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcomfacebook', 'menubar=1,resizable=1,width=600,height=400' );
				return false;
			});
var windowOpen;
			jQuery( document.body ).on( 'click', 'a.share-google-plus-1', function() {
				// If there's another sharing window open, close it.
				if ( 'undefined' !== typeof windowOpen ) {
					windowOpen.close();
				}
				windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcomgoogle-plus-1', 'menubar=1,resizable=1,width=480,height=550' );
				return false;
			});
var windowOpen;
			jQuery( document.body ).on( 'click', 'a.share-linkedin', function() {
				// If there's another sharing window open, close it.
				if ( 'undefined' !== typeof windowOpen ) {
					windowOpen.close();
				}
				windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcomlinkedin', 'menubar=1,resizable=1,width=580,height=450' );
				return false;
			});</script> <script type="text/javascript" src="./Mạch đo nhiệt độ - điều khiển động cơ với MSP430G2553_files/e-201812.js.download" async="async" defer="defer"></script> <script type="text/javascript">_stq = window._stq || [];
	_stq.push([ 'view', {v:'ext',j:'1:5.9',blog:'65376666',post:'207',tz:'7',srv:'thanhnt.com'} ]);
	_stq.push([ 'clickTrackerInit', '65376666', '207' ]);</script> <img src="./Mạch đo nhiệt độ - điều khiển động cơ với MSP430G2553_files/g.gif" alt=":)" width="6" height="5" id="wpstats"></body></html>